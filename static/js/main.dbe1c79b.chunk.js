(this["webpackJsonpbilalshop-frontend"]=this["webpackJsonpbilalshop-frontend"]||[]).push([[0],{102:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n,c,o=a(0),l=a.n(o),r=a(12),i=a.n(r),s=(a(102),a(14)),u=a(151),m=a(155),d=a(53),p=a(179),h=a(161),f=a(19),E=a.n(f),g=function(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(o.useState)(""),r=Object(s.a)(c,2),i=r[0],f=r[1],g=Object(o.useState)(""),b=Object(s.a)(g,2),v=b[0],y=b[1];return l.a.createElement(u.a,{container:!0,justify:"center",alignItems:"center",direction:"row",style:{height:"100vh",backgroundColor:"lightBlue"}},l.a.createElement(u.a,{item:!0,md:4,sm:8,xs:12},l.a.createElement(m.a,{style:{padding:32,margin:16}},l.a.createElement(u.a,{container:!0,spacing:2},l.a.createElement(u.a,{item:!0,xs:12},l.a.createElement(d.a,{variant:"h6",color:"error"},v)),l.a.createElement(u.a,{item:!0,xs:12},l.a.createElement(p.a,{fullWidth:!0,variant:"outlined",label:"Email",type:"email",onChange:function(e){n(e.target.value)}})),l.a.createElement(u.a,{item:!0,xs:12},l.a.createElement(p.a,{fullWidth:!0,variant:"outlined",type:"password",label:"Password",onChange:function(e){f(e.target.value)}})),l.a.createElement(u.a,{item:!0,xs:12},l.a.createElement(h.a,{fullWidth:!0,variant:"contained",onClick:function(){y(""),E.a.auth().signInWithEmailAndPassword(a,i).then((function(){})).catch((function(e){y("Invalid User")}))}},"Login"))))))},b=a(172),v=a(162),y=a(163),O=a(35),j=function(e){var t=Object(O.f)();return l.a.createElement(v.a,{button:!0,onClick:function(){t.push(e.link)},selected:e.selected,divider:!0},l.a.createElement(y.a,{primary:e.text}))},x=a(160),k=function(e){return l.a.createElement(x.a,null,e.items.map((function(e,t){return l.a.createElement(j,Object.assign({key:t},e))})))},C=Object(O.g)((function(e){var t=e.history,a=[{text:"Products",link:"/products",selected:"/products"===t.location.pathname||"/"===t.location.pathname},{text:"Purchases",link:"/purchases",selected:"/purchases"===t.location.pathname},{text:"Sales",link:"/sales",selected:"/sales"===t.location.pathname},{text:"Vendors",link:"/vendors",selected:"/vendors"===t.location.pathname},{text:"Customers",link:"/customers",selected:"/customers"===t.location.pathname},{text:"Employees",link:"/employees",selected:"/employees"===t.location.pathname},{text:"Accounts",link:"/accounts",selected:"/accounts"===t.location.pathname},{text:"Loans",link:"/loans",selected:"/loans"===t.location.pathname},{text:"Expenses",link:"/expenses",selected:"/expenses"===t.location.pathname},{text:"Vendor Payments",link:"/vendorpayments",selected:"/vendorpayments"===t.location.pathname},{text:"Customer Payments",link:"/customerpayments",selected:"/customerpayments"===t.location.pathname},{text:"Invoices",link:"/invoices",selected:"/invoices"===t.location.pathname}];return l.a.createElement(k,{items:a})})),w=a(50),S=a(85),P=a.n(S),A=a(164),M=a(165),F=a(166),I=a(167),W=a(168),B=a(169),D=a(170),N=a(171),z=a(177),L={product:{get:function(e,t,a,o){var l=Object(f.firestore)().collection("products").limit(5).orderBy("name","desc");a&&(l=l.startAfter(n)),o&&(l=l.endBefore(c)),l.onSnapshot((function(l){var r=[];l.docs.forEach((function(e){var t=e.data();t.id=e.id,r.push(t)})),e(r),a&&t((function(e){return e+1})),o&&t((function(e){return e-1})),n=l.docs[l.docs.length-1],c=l.docs[0]}))},add:function(e,t,a){Object(f.firestore)().collection("products").add(e).then((function(){var e=Object(f.firestore)().collection("counts").doc("LeHK24ewKeGrwFsMbzRE");e.get().then((function(a){var n=a.data();e.update({products:n.products+1}),t()})).catch((function(){console.log("error fetching products count"),a()}))})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("products").doc(e.id).delete().then((function(){var e=Object(f.firestore)().collection("counts").doc("LeHK24ewKeGrwFsMbzRE");e.get().then((function(a){var n=a.data();e.update({products:n.products-1}),t()})).catch((function(){console.log("error fetching products count"),a()}))}))}},counts:{get:function(e){Object(f.firestore)().collection("counts").limit(1).onSnapshot((function(t){e(t)}))}}},K=["Name","Average Rate","Quantity","Total","Details","Actions"],H=Object(A.a)({head:{backgroundColor:"#ECEDEF"}}),R=function(){var e=H(),t=Object(o.useState)([]),a=Object(s.a)(t,2),n=a[0],c=a[1],r=Object(o.useState)(0),i=Object(s.a)(r,2),u=i[0],d=i[1],p=Object(o.useState)(0),h=Object(s.a)(p,2),f=h[0],E=h[1],g=Object(o.useState)(!1),b=Object(s.a)(g,2),v=b[0],y=b[1];return Object(o.useEffect)((function(){L.counts.get((function(e){d(e.docs[0].data().products)})),L.product.get(c,E)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,null,l.a.createElement(M.a,null,l.a.createElement(F.a,null,l.a.createElement(I.a,{classes:{root:e.head}},l.a.createElement(W.a,null,K.map((function(e,t){return l.a.createElement(B.a,{key:t},e)})))),l.a.createElement(D.a,null,n.map((function(e,t){return l.a.createElement(W.a,{key:t,onClick:function(){console.log("clicked",t)}},l.a.createElement(B.a,null,e.name),l.a.createElement(B.a,null,e.rate),l.a.createElement(B.a,null,e.quantity),l.a.createElement(B.a,null,e.rate*e.quantity),l.a.createElement(B.a,null,e.details),l.a.createElement(B.a,null,l.a.createElement(N.a,{onClick:function(){y(!0),L.product.delete(e,(function(){y(!1)}),(function(){y(!1)}))},disabled:v},l.a.createElement(P.a,null))))}))))),l.a.createElement(z.a,{rowsPerPageOptions:[],component:"div",count:u,rowsPerPage:5,page:f,onChangePage:function(e,t){L.product.get(c,E,f<t,f>t)},onChangeRowsPerPage:function(){console.log("rows per page changed")}})))},q=a(158),V=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(o.useState)(!1),l=Object(s.a)(c,2),r=l[0],i=l[1];return{openProductModal:function(){n(!0)},closeProductModal:function(e){n(!1),e&&i(!0)},modalOpen:a,showSuccessMessage:r,hideSuccessMessage:function(){i(!1)}}},G=a(180),J=a(173),Q=function(e){return l.a.createElement(h.a,Object.assign({},e,{startIcon:e.loading?l.a.createElement(b.a,{style:{color:"white"},size:"1rem"}):""}),e.children)},T=function(e){var t=Object(o.useState)(""),a=Object(s.a)(t,2),n=a[0],c=a[1],l=Object(o.useState)(""),r=Object(s.a)(l,2),i=r[0],u=r[1],m=Object(o.useState)(!1),d=Object(s.a)(m,2),p=d[0],h=d[1];return{handleClick:function(){if(!p){h(!0);var t=Date.now();L.product.add({name:n,details:i,quantity:0,rate:0,createdAt:t,updatedAt:t},(function(){h(!1),e(!0)}),(function(){h(!1)}))}},onNameChange:function(e){c(e)},onDetailsChange:function(e){u(e)},loading:p}},U=function(e){var t=e.open,a=e.close,n=T(a),c=n.handleClick,o=n.onNameChange,r=n.onDetailsChange,i=n.loading;return l.a.createElement(G.a,{open:t},l.a.createElement(J.a,null,"Add New Product"),l.a.createElement(u.a,{container:!0,spacing:2,style:{padding:24}},l.a.createElement(u.a,{item:!0,xs:12},l.a.createElement(u.a,{container:!0,spacing:2},l.a.createElement(u.a,{item:!0,xs:12},l.a.createElement(p.a,{fullWidth:!0,label:"Product Name",onChange:function(e){o(e.target.value)}})),l.a.createElement(u.a,{item:!0,xs:12},l.a.createElement(p.a,{fullWidth:!0,label:"Details",multiline:!0,rows:3,onChange:function(e){r(e.target.value)}})))),l.a.createElement(u.a,{item:!0,xs:12},l.a.createElement(u.a,{container:!0,spacing:2,justify:"flex-end"},l.a.createElement(u.a,{item:!0},l.a.createElement(Q,{variant:"text",onClick:function(){a(!1)}},"Cancel")),l.a.createElement(u.a,{item:!0},l.a.createElement(Q,{onClick:c,disabled:i,loading:i},"Add Product"))))))},X=a(181),Z=a(178),$=function(e){return l.a.createElement(X.a,{open:e.open,autoHideDuration:1e3,onClose:function(t,a){"clickaway"!==a&&e.onClose()},anchorOrigin:{vertical:"top",horizontal:"right"}},l.a.createElement(Z.a,{variant:"filled",severity:e.severity},e.message))},_=function(){var e=V(),t=e.openProductModal,a=e.closeProductModal,n=e.modalOpen,c=e.showSuccessMessage,o=e.hideSuccessMessage;return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{container:!0},l.a.createElement(u.a,{item:!0,xs:1}),l.a.createElement(u.a,{item:!0,xs:10},l.a.createElement(d.a,{variant:"h4"},"Products"),l.a.createElement(u.a,{container:!0,alignItems:"center"},l.a.createElement(u.a,{item:!0,xs:6},l.a.createElement(q.a,{fullWidth:!0},l.a.createElement(p.a,{variant:"outlined",placeholder:"Search Products"}))),l.a.createElement(u.a,{item:!0,xs:6},l.a.createElement(u.a,{container:!0,justify:"flex-end"},l.a.createElement(u.a,{item:!0},l.a.createElement(h.a,{variant:"contained",color:"primary",onClick:t},"Add New Product"))))),l.a.createElement(R,null))),l.a.createElement($,{severity:"success",open:c,onClose:o,message:"Product added successfully"}),l.a.createElement(U,{open:n,close:a,"aria-labelledby":"product_modal"}))},Y=function(){var e=[{path:"/",component:l.a.createElement(_,null)},{path:"/products",component:l.a.createElement(_,null)},{path:"*",component:l.a.createElement(d.a,{variant:"h3"},"Some Page")}];return l.a.createElement(O.c,null,e.map((function(e,t){return l.a.createElement(O.a,{exact:!0,path:e.path,key:t},e.component)})))},ee=function(){return l.a.createElement(h.a,{fullWidth:!0,variant:"text",color:"primary",onClick:function(){E.a.auth().signOut().then((function(){console.log("succesfully signed out")})).catch((function(e){console.log("error",e)}))}},"Logout")},te=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{container:!0,style:{height:"100vh",backgroundColor:"#FFFFFF"}},l.a.createElement(w.a,{basename:"/bilalshop"},l.a.createElement(u.a,{item:!0,xs:2},l.a.createElement("div",{style:{padding:16}},l.a.createElement(d.a,{variant:"h5",align:"center"},"Bilal Shop"),l.a.createElement(ee,null)),l.a.createElement(C,null)),l.a.createElement(u.a,{item:!0,xs:10},l.a.createElement(Y,null)))))},ae=function(){var e=Object(o.useState)(!0),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(o.useState)(!1),r=Object(s.a)(c,2),i=r[0],u=r[1];return Object(o.useEffect)((function(){E.a.auth().onAuthStateChanged((function(e){u(!!e),n(!1)}))}),[]),a?l.a.createElement(b.a,null):i?l.a.createElement(te,null):l.a.createElement(g,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(174),ce=a(86),oe=Object(ce.a)({props:{MuiTextField:{variant:"outlined"},MuiButton:{color:"primary",variant:"contained"}}});E.a.initializeApp({apiKey:"AIzaSyAN6y59cHMfZiXomgcBbIVh5p1m0yLQshI",projectId:"bilalshop-b7685"}),i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ne.a,{theme:oe},l.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(119)}},[[97,1,2]]]);
//# sourceMappingURL=main.dbe1c79b.chunk.js.map