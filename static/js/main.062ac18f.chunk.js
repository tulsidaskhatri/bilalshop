(this["webpackJsonpbilalshop-frontend"]=this["webpackJsonpbilalshop-frontend"]||[]).push([[0],{104:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(16),r=a.n(o),l=(a(104),a(2)),i=a(154),u=a(158),s=a(56),d=a(177),m=a(163),f=a(11),E=a.n(f),h=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),f=Object(l.a)(r,2),h=f[0],b=f[1],g=Object(n.useState)(""),p=Object(l.a)(g,2),v=p[0],O=p[1];return c.a.createElement(i.a,{container:!0,justify:"center",alignItems:"center",direction:"row",style:{height:"100vh",backgroundColor:"lightBlue"}},c.a.createElement(i.a,{item:!0,md:4,sm:8,xs:12},c.a.createElement(u.a,{style:{padding:32,margin:16}},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(s.a,{variant:"h6",color:"error"},v)),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,variant:"outlined",label:"Email",type:"email",onChange:function(e){o(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,variant:"outlined",type:"password",label:"Password",onChange:function(e){b(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(m.a,{fullWidth:!0,variant:"contained",onClick:function(){O(""),E.a.auth().signInWithEmailAndPassword(a,h).then((function(){})).catch((function(e){O("Invalid User")}))}},"Login"))))))},b=a(166),g=a(68),p=a(164),v=a(165),O=a(35),j=function(e){var t=Object(O.f)();return c.a.createElement(p.a,{button:!0,onClick:function(){t.push(e.link)},selected:e.selected,divider:!0},c.a.createElement(v.a,{primary:e.text}))},y=a(162),C=function(e){return c.a.createElement(y.a,null,e.items.map((function(e,t){return c.a.createElement(j,Object.assign({key:t},e))})))},S=Object(O.g)((function(e){var t=e.history,a=Object(g.a)(e,["history"]),n=[{text:"Products (".concat(a.products,")"),link:"/products",selected:"/products"===t.location.pathname||"/"===t.location.pathname},{text:"Purchases (".concat(a.purchases,")"),link:"/purchases",selected:"/purchases"===t.location.pathname},{text:"Vendors (".concat(a.vendors,")"),link:"/vendors",selected:"/vendors"===t.location.pathname},{text:"Customers (".concat(a.customers,")"),link:"/customers",selected:"/customers"===t.location.pathname},{text:"Employees",link:"/employees",selected:"/employees"===t.location.pathname},{text:"Accounts (".concat(a.accounts,")"),link:"/accounts",selected:"/accounts"===t.location.pathname},{text:"Loans",link:"/loans",selected:"/loans"===t.location.pathname},{text:"Expenses",link:"/expenses",selected:"/expenses"===t.location.pathname},{text:"Vendor Payments (".concat(a.vendorPayments,")"),link:"/payments/vendors",selected:"/payments/vendors"===t.location.pathname},{text:"Customer Payments (".concat(a.customerPayments,")"),link:"/payments/customers",selected:"/payments/customer"===t.location.pathname},{text:"Invoices (".concat(a.invoices,")"),link:"/invoices",selected:"/invoices"===t.location.pathname},{text:"Cities (".concat(a.cities,")"),link:"/cities",selected:"/cities"===t.location.pathname}];return c.a.createElement(C,{items:n})})),A=a(53),P=a(19),x=a.n(P),k=a(167),w=a(168),M=a(169),D=a(170),V=a(171),I=a(172),L=a(173),N=a(174),F=a(89),W=function(e){var t=Object(F.a)({},e),a=t.loading,n=t.disabled,o=Object(g.a)(t,["loading","disabled"]);return c.a.createElement(m.a,Object.assign({},o,{disabled:a||n,startIcon:a?c.a.createElement(b.a,{style:{color:"white"},size:"1rem"}):""}),e.children)},R=["Name","Average Rate","Quantity","Total","Details","Actions"],B=Object(k.a)({head:{backgroundColor:"#ECEDEF"}}),q=function(e){var t=B();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(w.a,null,c.a.createElement(M.a,null,c.a.createElement(D.a,{classes:{root:t.head}},c.a.createElement(V.a,null,R.map((function(e,t){return c.a.createElement(I.a,{key:t},e)})))),c.a.createElement(L.a,null,e.rows.map((function(t,a){return c.a.createElement(V.a,{key:t.id,onClick:function(){console.log("clicked",a)}},c.a.createElement(I.a,null,t.name),c.a.createElement(I.a,null,t.rate),c.a.createElement(I.a,null,t.quantity),c.a.createElement(I.a,null,(t.rate?t.rate:0)*(t.quantity?t.quantity:0)),c.a.createElement(I.a,null,t.details),c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(x.a,null))))})))),c.a.createElement(W,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading},"Load More"))))},T=a(159),_={product:{get:function(e,t,a){var n=Object(f.firestore)().collection("products").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("products").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("products").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},customer:{get:function(e,t,a){var n=Object(f.firestore)().collection("customers").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("customers").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("customers").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},purchase:{get:function(e,t,a){var n=Object(f.firestore)().collection("purchases").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("purchases").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("purchases").doc(e).delete().then((function(){t&&t()})).catch((function(){a&&a()}))}},invoice:{get:function(e,t,a){var n=Object(f.firestore)().collection("invoices").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("invoices").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("invoices").doc(e).delete().then((function(){t&&t()})).catch((function(){a&&a()}))}},vendor:{get:function(e,t,a){var n=Object(f.firestore)().collection("vendors").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("vendors").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("vendors").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},city:{get:function(e,t,a){Object(f.firestore)().collection("cities").orderBy("name").get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("cities").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("cities").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},account:{get:function(e,t,a){var n=Object(f.firestore)().collection("accounts").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("accounts").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("accounts").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},vendorPayment:{get:function(e,t,a){var n=Object(f.firestore)().collection("vendorPayments").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("vendorPayments").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("vendorPayments").doc(e).delete().then((function(){t&&t()})).catch((function(){a&&a()}))}},customerPayment:{get:function(e,t,a){var n=Object(f.firestore)().collection("customerPayments").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("customerPayments").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("customerPayments").doc(e).delete().then((function(){t&&t()})).catch((function(){a&&a()}))}},counts:{get:function(e){Object(f.firestore)().collection("counts").limit(1).onSnapshot((function(t){e(t)}))}}},Q=[],z=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)(!1),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)(!1),v=Object(l.a)(p,2),O=v[0],j=v[1];return Object(n.useEffect)((function(){j(!0),_.product.get((function(e){Q=[];var t=[];e.docs.forEach((function(e){Q.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),j(!1)}),(function(){j(!1)}))}),[]),{openProductModal:function(){c(!0)},closeProductModal:function(e){c(!1),e&&u(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){u(!1)},deleteProduct:function(e){g(!0),_.product.delete(m[e].id,(function(){Q.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),g(!1)}),(function(){g(!1)}))},addProduct:function(e){m.push(e),m.sort((function(e,t){return(t.createdAt?t.createdAt:0)-(e.createdAt?e.createdAt:0)})),f(m)},loadMoreProducts:function(){j(!0),_.product.get((function(e){var t=[];e.docs.forEach((function(e){Q.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),j(!1)}),(function(){j(!1)}),Q[Q.length-1])},deleting:b,loading:O,rows:m}},H=a(181),J=a(175),K=function(e,t){var a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],r=c[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(n.useState)(!1),f=Object(l.a)(m,2),E=f[0],h=f[1];return{handleClick:function(){if(!E){h(!0);var a=Date.now(),n={name:o,details:s,quantity:0,rate:0,createdAt:a,updatedAt:a};_.product.add(n,(function(a){h(!1),n.id=a,e(n),t(!0)}),(function(){h(!1)}))}},onNameChange:function(e){r(e)},onDetailsChange:function(e){d(e)},loading:E}},U=function(e){var t=e.open,a=e.close,n=e.onAdd,o=K(n,a),r=o.handleClick,l=o.onNameChange,u=o.onDetailsChange,s=o.loading;return c.a.createElement(H.a,{open:t},c.a.createElement(J.a,null,"Add New Product"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Product Name",onChange:function(e){l(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Details",multiline:!0,rows:3,onChange:function(e){u(e.target.value)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(W,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(W,{onClick:r,loading:s},"Add Product"))))))},X=a(182),Z=a(180),$=function(e){return c.a.createElement(X.a,{open:e.open,autoHideDuration:1e3,onClose:function(t,a){"clickaway"!==a&&e.onClose()},anchorOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement(Z.a,{variant:"filled",severity:e.severity},e.message))},G=function(e){var t=z(),a=t.openProductModal,n=t.closeProductModal,o=t.modalOpen,r=t.showSuccessMessage,l=t.hideSuccessMessage,u=t.deleteProduct,f=t.loadMoreProducts,E=t.addProduct,h=t.deleting,b=t.loading,g=t.rows;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1}),c.a.createElement(i.a,{item:!0,xs:10},c.a.createElement(s.a,{variant:"h4"},"Products"),c.a.createElement(i.a,{container:!0,alignItems:"center"},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(T.a,{fullWidth:!0},c.a.createElement(d.a,{variant:"outlined",placeholder:"Search Products"}))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(m.a,{variant:"contained",color:"primary",onClick:a},"Add New Product"))))),c.a.createElement(s.a,{variant:"body1"},"Showing ",g.length," out of ",e.numberOfProducts," products"),c.a.createElement(q,{rows:g,onRowDelete:u,deleting:h,onLoadMore:f,allLoaded:g.length===e.numberOfProducts,loading:b}))),c.a.createElement($,{severity:"success",open:r,onClose:l,message:"Product added successfully"}),c.a.createElement(U,{open:o,close:n,"aria-labelledby":"product_modal",onAdd:E}))},Y=["Name","City","Mobile","Debt","Actions"],ee=Object(k.a)({head:{backgroundColor:"#ECEDEF"}}),te=function(e){var t=ee();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(w.a,null,c.a.createElement(M.a,null,c.a.createElement(D.a,{classes:{root:t.head}},c.a.createElement(V.a,null,Y.map((function(e,t){return c.a.createElement(I.a,{key:t},e)})))),c.a.createElement(L.a,null,e.rows.map((function(t,a){var n;return c.a.createElement(V.a,{key:t.id,onClick:function(){console.log("clicked",a)}},c.a.createElement(I.a,null,t.name),c.a.createElement(I.a,null,null===(n=t.city)||void 0===n?void 0:n.name),c.a.createElement(I.a,null,t.mobile),c.a.createElement(I.a,null,t.debt),c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(x.a,null))))})))),c.a.createElement(W,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading},"Load More"))))},ae=[],ne=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)([]),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)(!1),v=Object(l.a)(p,2),O=v[0],j=v[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),S=C[0],A=C[1],P=Object(n.useState)(!1),x=Object(l.a)(P,2),k=x[0],w=x[1];return Object(n.useEffect)((function(){A(!0),_.customer.get((function(e){ae=[];var t=[];e.docs.forEach((function(e){ae.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),A(!1)}),(function(){A(!1)})),w(!0),_.city.get((function(e){var t=[];console.log("total",e.docs.length),e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),g(t),w(!1)}),(function(){w(!1)}))}),[]),{openCustomerModal:function(){c(!0)},closeCustomerModal:function(e){c(!1),e&&u(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){u(!1)},deleteCustomer:function(e){j(!0),_.customer.delete(m[e].id,(function(){ae.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),j(!1)}),(function(){j(!1)}))},addCustomer:function(e){m.push(e),m.sort((function(e,t){return(t.createdAt?t.createdAt:0)-(e.createdAt?e.createdAt:0)})),f(m)},loadMoreCustomers:function(){A(!0),_.customer.get((function(e){var t=[];e.docs.forEach((function(e){ae.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),A(!1)}),(function(){A(!1)}),ae[ae.length-1])},deleting:O,loading:S,rows:m,cities:b,loadingCities:k,addCity:function(e){var t=Date.now(),a={name:e,createdAt:t,updatedAt:t};b.push(a),g(b)}}},ce=function(e,t){var a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],r=c[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(n.useState)(),f=Object(l.a)(m,2),E=f[0],h=f[1],b=Object(n.useState)(!1),g=Object(l.a)(b,2),p=g[0],v=g[1];return{handleClick:function(){if(!p){v(!0);var a=Date.now(),n={name:o,mobile:s,city:{name:(null===E||void 0===E?void 0:E.name)||"Dummy City",id:null===E||void 0===E?void 0:E.id},debt:0,createdAt:a,updatedAt:a};_.customer.add(n,(function(a){v(!1),n.id=a,e(n),t(!0)}),(function(){v(!1)}))}},onNameChange:function(e){r(e)},onMobileChange:function(e){d(e)},city:E,loading:p,setCity:h}},oe=a(178),re=function(e){var t=e.open,a=e.close,n=e.onAdd,o=ce(n,a),r=o.handleClick,l=o.onNameChange,u=o.setCity,s=o.onMobileChange,m=o.loading;o.city;return c.a.createElement(H.a,{open:t},c.a.createElement(J.a,null,"Add New Customer"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Customer Name",onChange:function(e){l(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Mobile Number",onChange:function(e){s(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(oe.a,{id:"city-search",options:e.cities,getOptionLabel:function(e){return e.name},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"City",variant:"outlined"}))},onChange:function(e,t){t&&u(t)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(W,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(W,{onClick:r,loading:m},"Add Customer"))))))},le=function(e){var t=ne(),a=t.openCustomerModal,n=t.closeCustomerModal,o=t.modalOpen,r=t.showSuccessMessage,l=t.hideSuccessMessage,u=t.deleteCustomer,f=t.loadMoreCustomers,E=t.addCustomer,h=t.deleting,b=t.loading,g=t.rows,p=t.cities,v=t.loadingCities;t.addCity;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1}),c.a.createElement(i.a,{item:!0,xs:10},c.a.createElement(s.a,{variant:"h4"},"Customers"),c.a.createElement(i.a,{container:!0,alignItems:"center"},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(T.a,{fullWidth:!0},c.a.createElement(d.a,{variant:"outlined",placeholder:"Search Customers"}))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(m.a,{variant:"contained",color:"primary",onClick:a,disabled:v},"Add New Customer"))))),c.a.createElement(s.a,{variant:"body1"},"Showing ",g.length," out of ",e.numberOfCustomers," customers"),c.a.createElement(te,{rows:g,onRowDelete:u,deleting:h,onLoadMore:f,allLoaded:g.length===e.numberOfCustomers,loading:b}))),c.a.createElement($,{severity:"success",open:r,onClose:l,message:"Customer added successfully"}),c.a.createElement(re,{open:o,close:n,"aria-labelledby":"customer_modal",onAdd:E,cities:p}))},ie=[],ue=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)(!1),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)(!1),v=Object(l.a)(p,2),O=v[0],j=v[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),S=C[0],A=C[1];return Object(n.useEffect)((function(){j(!0),_.city.get((function(e){var t=[];console.log("total",e.docs.length),e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),f(t),j(!1)}),(function(){j(!1)}))}),[]),{showSuccessMessage:a,hideSuccessMessage:function(){c(!1)},deleteCity:function(e){g(!0),_.city.delete(m[e].id,(function(){ie.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),g(!1)}),(function(){g(!1)}))},addCity:function(){A(!0);var e=Date.now(),t={name:i,createdAt:e,updatedAt:e};_.city.add(t,(function(e){A(!1),t.id=e,f((function(e){return e.concat(t)})),u("")}),(function(){A(!1)}))},deleting:b,loading:O,adding:S,rows:m,setCity:u,city:i}},se=function(e){var t=ue(),a=(t.showSuccessMessage,t.hideSuccessMessage,t.deleteCity,t.addCity),n=(t.deleting,t.loading),o=t.rows,r=t.setCity,l=t.adding,u=t.city;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0},"Cities"),c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0},c.a.createElement(d.a,{value:u,label:"New City Name",onChange:function(e){r(e.target.value)}})),c.a.createElement(i.a,{item:!0},c.a.createElement(W,{onClick:a,loading:l},"Add City"))),c.a.createElement(i.a,{container:!0},n&&c.a.createElement(b.a,null),c.a.createElement(y.a,null,o.map((function(e,t){return c.a.createElement(p.a,{key:t},c.a.createElement(v.a,null,e.name))}))))))},de=["Name","City","Mobile","Debt","Actions"],me=Object(k.a)({head:{backgroundColor:"#ECEDEF"}}),fe=function(e){var t=me();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(w.a,null,c.a.createElement(M.a,null,c.a.createElement(D.a,{classes:{root:t.head}},c.a.createElement(V.a,null,de.map((function(e,t){return c.a.createElement(I.a,{key:t},e)})))),c.a.createElement(L.a,null,e.rows.map((function(t,a){var n;return c.a.createElement(V.a,{key:t.id,onClick:function(){console.log("clicked",a)}},c.a.createElement(I.a,null,t.name),c.a.createElement(I.a,null,null===(n=t.city)||void 0===n?void 0:n.name),c.a.createElement(I.a,null,t.mobile),c.a.createElement(I.a,null,t.debt),c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(x.a,null))))})))),c.a.createElement(W,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading},"Load More"))))},Ee=[],he=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)([]),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)(!1),v=Object(l.a)(p,2),O=v[0],j=v[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),S=C[0],A=C[1],P=Object(n.useState)(!1),x=Object(l.a)(P,2),k=x[0],w=x[1];return Object(n.useEffect)((function(){A(!0),_.vendor.get((function(e){Ee=[];var t=[];e.docs.forEach((function(e){Ee.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),A(!1)}),(function(){A(!1)})),w(!0),_.city.get((function(e){var t=[];console.log("total",e.docs.length),e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),g(t),w(!1)}),(function(){w(!1)}))}),[]),{openVendorModal:function(){c(!0)},closeVendorModal:function(e){c(!1),e&&u(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){u(!1)},deleteVendor:function(e){j(!0),_.vendor.delete(m[e].id,(function(){Ee.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),j(!1)}),(function(){j(!1)}))},addVendor:function(e){m.push(e),m.sort((function(e,t){return(t.createdAt?t.createdAt:0)-(e.createdAt?e.createdAt:0)})),f(m)},loadMoreVendors:function(){A(!0),_.vendor.get((function(e){var t=[];e.docs.forEach((function(e){Ee.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),A(!1)}),(function(){A(!1)}),Ee[Ee.length-1])},deleting:O,loading:S,rows:m,cities:b,loadingCities:k,addCity:function(e){var t=Date.now(),a={name:e,createdAt:t,updatedAt:t};b.push(a),g(b)}}},be=function(e,t){var a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],r=c[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(n.useState)(),f=Object(l.a)(m,2),E=f[0],h=f[1],b=Object(n.useState)(!1),g=Object(l.a)(b,2),p=g[0],v=g[1];return{handleClick:function(){if(!p){v(!0);var a=Date.now(),n={name:o,mobile:s,city:{name:(null===E||void 0===E?void 0:E.name)||"Dummy City",id:null===E||void 0===E?void 0:E.id},debt:0,createdAt:a,updatedAt:a};_.vendor.add(n,(function(a){v(!1),n.id=a,e(n),t(!0)}),(function(){v(!1)}))}},onNameChange:function(e){r(e)},onMobileChange:function(e){d(e)},city:E,loading:p,setCity:h}},ge=function(e){var t=e.open,a=e.close,n=e.onAdd,o=be(n,a),r=o.handleClick,l=o.onNameChange,u=o.setCity,s=o.onMobileChange,m=o.loading;o.city;return c.a.createElement(H.a,{open:t},c.a.createElement(J.a,null,"Add New Vendor"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Vendor Name",onChange:function(e){l(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Mobile Number",onChange:function(e){s(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(oe.a,{id:"city-search",options:e.cities,getOptionLabel:function(e){return e.name},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"City",variant:"outlined"}))},onChange:function(e,t){t&&u(t)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(W,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(W,{onClick:r,loading:m},"Add Vendor"))))))},pe=function(e){var t=he(),a=t.openVendorModal,n=t.closeVendorModal,o=t.modalOpen,r=t.showSuccessMessage,l=t.hideSuccessMessage,u=t.deleteVendor,f=t.loadMoreVendors,E=t.addVendor,h=t.deleting,b=t.loading,g=t.rows,p=t.cities,v=t.loadingCities,O=t.addCity;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1}),c.a.createElement(i.a,{item:!0,xs:10},c.a.createElement(s.a,{variant:"h4"},"Vendors"),c.a.createElement(i.a,{container:!0,alignItems:"center"},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(T.a,{fullWidth:!0},c.a.createElement(d.a,{variant:"outlined",placeholder:"Search Vendors"}))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(m.a,{variant:"contained",color:"primary",onClick:a,disabled:v},"Add New Vendor"))))),c.a.createElement(s.a,{variant:"body1"},"Showing ",g.length," out of ",e.numberOfVendors," vendors"),c.a.createElement(fe,{rows:g,onRowDelete:u,deleting:h,onLoadMore:f,allLoaded:g.length===e.numberOfVendors,loading:b}))),c.a.createElement($,{severity:"success",open:r,onClose:l,message:"Vendor added successfully"}),c.a.createElement(ge,{open:o,close:n,"aria-labelledby":"vendor_modal",onAdd:E,cities:p,addCity:O}))},ve=["Name","Amount","Type","Details","Actions"],Oe=Object(k.a)({head:{backgroundColor:"#ECEDEF"}}),je=function(e){var t=Oe();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(w.a,null,c.a.createElement(M.a,null,c.a.createElement(D.a,{classes:{root:t.head}},c.a.createElement(V.a,null,ve.map((function(e,t){return c.a.createElement(I.a,{key:t},e)})))),c.a.createElement(L.a,null,e.rows.map((function(t,a){return c.a.createElement(V.a,{key:t.id,onClick:function(){console.log("clicked",a)}},c.a.createElement(I.a,null,t.name),c.a.createElement(I.a,null,t.amount),c.a.createElement(I.a,null,t.type),c.a.createElement(I.a,null,t.details),c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(x.a,null))))})))),c.a.createElement(W,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading},"Load More"))))},ye=[],Ce=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)(!1),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)(!1),v=Object(l.a)(p,2),O=v[0],j=v[1];return Object(n.useEffect)((function(){j(!0),_.account.get((function(e){ye=[];var t=[];e.docs.forEach((function(e){ye.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),j(!1)}),(function(){j(!1)}))}),[]),{openAccountModal:function(){c(!0)},closeAccountModal:function(e){c(!1),e&&u(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){u(!1)},deleteAccount:function(e){g(!0),_.account.delete(m[e].id,(function(){ye.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),g(!1)}),(function(){g(!1)}))},addAccount:function(e){m.push(e),m.sort((function(e,t){return(t.createdAt?t.createdAt:0)-(e.createdAt?e.createdAt:0)})),f(m)},loadMoreAccounts:function(){j(!0),_.account.get((function(e){var t=[];e.docs.forEach((function(e){ye.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),j(!1)}),(function(){j(!1)}),ye[ye.length-1])},deleting:b,loading:O,rows:m}},Se=function(e,t){var a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],r=c[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(n.useState)(0),f=Object(l.a)(m,2),E=f[0],h=f[1],b=Object(n.useState)(""),g=Object(l.a)(b,2),p=g[0],v=g[1],O=Object(n.useState)(!1),j=Object(l.a)(O,2),y=j[0],C=j[1];return{handleClick:function(){if(!y){C(!0);var a=Date.now(),n={name:o,details:p,type:s,amount:E,createdAt:a,updatedAt:a};_.account.add(n,(function(a){C(!1),n.id=a,e(n),t(!0)}),(function(){C(!1)}))}},onNameChange:function(e){r(e)},onDetailsChange:function(e){v(e)},onTypeChange:function(e){d(e)},onAmountChange:function(e){h(e)},loading:y}},Ae=function(e){var t=e.open,a=e.close,n=e.onAdd,o=Se(n,a),r=o.handleClick,l=o.onNameChange,u=o.onDetailsChange,s=o.onTypeChange,m=o.onAmountChange,f=o.loading;return c.a.createElement(H.a,{open:t},c.a.createElement(J.a,null,"Add New Account"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Account Name",onChange:function(e){l(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Account Type",onChange:function(e){s(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Account Amount",type:"number",onChange:function(e){m(parseInt(e.target.value))}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Details",multiline:!0,rows:3,onChange:function(e){u(e.target.value)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(W,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(W,{onClick:r,loading:f},"Add Account"))))))},Pe=function(e){var t=Ce(),a=t.openAccountModal,n=t.closeAccountModal,o=t.modalOpen,r=t.showSuccessMessage,l=t.hideSuccessMessage,u=t.deleteAccount,f=t.loadMoreAccounts,E=t.addAccount,h=t.deleting,b=t.loading,g=t.rows;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1}),c.a.createElement(i.a,{item:!0,xs:10},c.a.createElement(s.a,{variant:"h4"},"Accounts"),c.a.createElement(i.a,{container:!0,alignItems:"center"},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(T.a,{fullWidth:!0},c.a.createElement(d.a,{variant:"outlined",placeholder:"Search Accounts"}))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(m.a,{variant:"contained",color:"primary",onClick:a},"Add New Account"))))),c.a.createElement(s.a,{variant:"body1"},"Showing ",g.length," out of ",e.numberOfAccounts," accounts"),c.a.createElement(je,{rows:g,onRowDelete:u,deleting:h,onLoadMore:f,allLoaded:g.length===e.numberOfAccounts,loading:b}))),c.a.createElement($,{severity:"success",open:r,onClose:l,message:"Account added successfully"}),c.a.createElement(Ae,{open:o,close:n,"aria-labelledby":"account_modal",onAdd:E}))},xe=["Vendor","Product","Quantity","Rate","Total","Date","Actions"],ke=Object(k.a)({head:{backgroundColor:"#ECEDEF"}}),we=function(e){var t=ke();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(w.a,null,c.a.createElement(M.a,null,c.a.createElement(D.a,{classes:{root:t.head}},c.a.createElement(V.a,null,xe.map((function(e,t){return c.a.createElement(I.a,{key:t},e)})))),c.a.createElement(L.a,null,e.rows.map((function(t,a){return c.a.createElement(V.a,{key:t.id,onClick:function(){console.log("clicked",a)}},c.a.createElement(I.a,null,t.vendor.name),c.a.createElement(I.a,null,t.product.name),c.a.createElement(I.a,null,t.quantity),c.a.createElement(I.a,null,t.rate),c.a.createElement(I.a,null,t.quantity*t.rate),c.a.createElement(I.a,null,t.createdAt),c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(x.a,null))))})))),c.a.createElement(W,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading},"Load More"))))},Me=[],De=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)([]),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)([]),v=Object(l.a)(p,2),O=v[0],j=v[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),S=C[0],A=C[1],P=Object(n.useState)(!1),x=Object(l.a)(P,2),k=x[0],w=x[1],M=Object(n.useState)(!1),D=Object(l.a)(M,2),V=D[0],I=D[1],L=Object(n.useState)(!1),N=Object(l.a)(L,2),F=N[0],W=N[1];return Object(n.useEffect)((function(){w(!0),_.purchase.get((function(e){Me=[];var t=[];e.docs.forEach((function(e){Me.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),w(!1)}),(function(){w(!1)})),I(!0),_.product.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),g(t),I(!1)}),(function(){I(!1)})),W(!0),_.vendor.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),j(t),W(!1)}),(function(){W(!1)}))}),[]),{openPurchaseModal:function(){c(!0)},closePurchaseModal:function(e){c(!1),e&&u(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){u(!1)},deletePurchase:function(e){A(!0),_.purchase.delete(m[e].id,(function(){Me.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),A(!1)}),(function(){A(!1)}))},addPurchase:function(e){m.push(e),m.sort((function(e,t){return t.createdAt-e.createdAt})),f(m)},loadMorePurchases:function(){w(!0),_.purchase.get((function(e){var t=[];e.docs.forEach((function(e){Me.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),w(!1)}),(function(){w(!1)}),Me[Me.length-1])},deleting:S,loading:k,rows:m,products:b,vendors:O,loadingProducts:V,loadingVendors:F}},Ve=function(e,t){var a=Object(n.useState)(),c=Object(l.a)(a,2),o=c[0],r=c[1],i=Object(n.useState)(),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(n.useState)(0),f=Object(l.a)(m,2),E=f[0],h=f[1],b=Object(n.useState)(0),g=Object(l.a)(b,2),p=g[0],v=g[1],O=Object(n.useState)(!1),j=Object(l.a)(O,2),y=j[0],C=j[1];return{handleClick:function(){if(!y){C(!0);var a=Date.now(),n={product:{id:null===o||void 0===o?void 0:o.id,name:null===o||void 0===o?void 0:o.name},vendor:{id:null===s||void 0===s?void 0:s.id,name:null===s||void 0===s?void 0:s.name},quantity:E,rate:p,createdAt:a,updatedAt:a};_.purchase.add(n,(function(a){C(!1),n.id=a,e(n),t(!0)}),(function(){C(!1)}))}},onQuantityChange:function(e){h(e)},onRateChange:function(e){v(e)},setProduct:r,setVendor:d,loading:y}},Ie=function(e){var t=e.open,a=e.close,n=e.onAdd,o=Ve(n,a),r=o.handleClick,l=o.onQuantityChange,u=o.onRateChange,s=o.loading,m=o.setProduct,f=o.setVendor;return c.a.createElement(H.a,{open:t},c.a.createElement(J.a,null,"Add New Purchase"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(oe.a,{id:"vendor-search",options:e.vendors,getOptionLabel:function(e){return e.name||"Dummy Vendor"},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Search Vendor",variant:"outlined"}))},onChange:function(e,t){t&&f(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(oe.a,{id:"product-search",options:e.products,getOptionLabel:function(e){return e.name||"Dummy Product"},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Search Product",variant:"outlined"}))},onChange:function(e,t){t&&m(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Quantity",type:"number",onChange:function(e){l(parseInt(e.target.value))}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Rate",type:"number",onChange:function(e){u(parseInt(e.target.value))}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(W,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(W,{onClick:r,loading:s},"Add Purchase"))))))},Le=function(e){var t=De(),a=t.openPurchaseModal,n=t.closePurchaseModal,o=t.modalOpen,r=t.showSuccessMessage,l=t.hideSuccessMessage,u=t.deletePurchase,f=t.loadMorePurchases,E=t.addPurchase,h=t.deleting,b=t.loading,g=t.rows,p=t.products,v=t.loadingProducts,O=t.vendors,j=t.loadingVendors;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1}),c.a.createElement(i.a,{item:!0,xs:10},c.a.createElement(s.a,{variant:"h4"},"Purchases"),c.a.createElement(i.a,{container:!0,alignItems:"center"},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(T.a,{fullWidth:!0},c.a.createElement(d.a,{variant:"outlined",placeholder:"Search Purchases"}))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(m.a,{variant:"contained",color:"primary",onClick:a,disabled:v||j},"Add New Purchase"))))),c.a.createElement(s.a,{variant:"body1"},"Showing ",g.length," out of ",e.numberOfPurchases," purchases"),c.a.createElement(we,{rows:g,onRowDelete:u,deleting:h,onLoadMore:f,allLoaded:g.length===e.numberOfPurchases,loading:b}))),c.a.createElement($,{severity:"success",open:r,onClose:l,message:"Purchase added successfully"}),c.a.createElement(Ie,{open:o,close:n,"aria-labelledby":"purchase_modal",onAdd:E,products:p,vendors:O}))},Ne=["Customer","Products","Total","Date","Actions"],Fe=Object(k.a)({head:{backgroundColor:"#ECEDEF"}}),We=function(e){var t=Fe();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(w.a,null,c.a.createElement(M.a,null,c.a.createElement(D.a,{classes:{root:t.head}},c.a.createElement(V.a,null,Ne.map((function(e,t){return c.a.createElement(I.a,{key:t},e)})))),c.a.createElement(L.a,null,e.rows.map((function(t,a){return c.a.createElement(V.a,{key:t.id,onClick:function(){console.log("clicked",a)}},c.a.createElement(I.a,null,t.customer.name),c.a.createElement(I.a,null,t.sales.length),c.a.createElement(I.a,null,function(e){var t=0;return e.forEach((function(e){t+=e.quantity*e.rate})),t}(t.sales)),c.a.createElement(I.a,null,t.createdAt),c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(x.a,null))))})))),c.a.createElement(W,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading},"Load More"))))},Re=[],Be=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)([]),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)([]),v=Object(l.a)(p,2),O=v[0],j=v[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),S=C[0],A=C[1],P=Object(n.useState)(!1),x=Object(l.a)(P,2),k=x[0],w=x[1],M=Object(n.useState)(!1),D=Object(l.a)(M,2),V=D[0],I=D[1],L=Object(n.useState)(!1),N=Object(l.a)(L,2),F=N[0],W=N[1];return Object(n.useEffect)((function(){w(!0),_.invoice.get((function(e){Re=[];var t=[];e.docs.forEach((function(e){Re.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),w(!1)}),(function(){w(!1)})),I(!0),_.product.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),g(t),I(!1)}),(function(){I(!1)})),W(!0),_.customer.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),j(t),W(!1)}),(function(){W(!1)}))}),[]),{openInvoiceModal:function(){c(!0)},closeInvoiceModal:function(e){c(!1),e&&u(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){u(!1)},deleteInvoice:function(e){A(!0),_.invoice.delete(m[e].id,(function(){Re.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),A(!1)}),(function(){A(!1)}))},addInvoice:function(e){m.push(e),m.sort((function(e,t){return t.createdAt-e.createdAt})),f(m)},loadMoreInvoices:function(){w(!0),_.invoice.get((function(e){var t=[];e.docs.forEach((function(e){Re.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),w(!1)}),(function(){w(!1)}),Re[Re.length-1])},deleting:S,loading:k,rows:m,products:b,customers:O,loadingProducts:V,loadingCustomers:F}},qe=function(e,t){var a=Object(n.useState)(),c=Object(l.a)(a,2),o=c[0],r=c[1],i=Object(n.useState)([{}]),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(n.useState)(!1),f=Object(l.a)(m,2),E=f[0],h=f[1];return{handleClick:function(){if(!E){h(!0);var a=Date.now(),n={sales:s||[],customer:{id:null===o||void 0===o?void 0:o.id,name:null===o||void 0===o?void 0:o.name},createdAt:a,updatedAt:a};_.invoice.add(n,(function(a){h(!1),n.id=a,e(n),t(!0)}),(function(){h(!1)}))}},sales:s,setCustomer:r,loading:E,addSale:function(){var e=s.concat({});d(e)}}},Te=function(e){var t=e.open,a=e.close,n=e.onAdd,o=qe(n,a),r=o.handleClick,l=o.loading,u=o.sales,s=o.setCustomer,m=o.addSale;return c.a.createElement(H.a,{open:t},c.a.createElement(J.a,null,"Add New Invoice"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(oe.a,{id:"customer-search",options:e.customers,getOptionLabel:function(e){return e.name||"Dummy Customer"},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Search Customer",variant:"outlined"}))},onChange:function(e,t){t&&s(t)}})),null===u||void 0===u?void 0:u.map((function(t,a){return c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(oe.a,{id:"product-search",options:e.products,getOptionLabel:function(e){return e.name||"Dummy Product"},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Search Product",variant:"outlined"}))},onChange:function(e,a){t.product=a||{}}})),c.a.createElement(i.a,{item:!0,xs:3},c.a.createElement(d.a,{fullWidth:!0,label:"Quantity",type:"number",onChange:function(e){t.quantity=parseInt(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:3},c.a.createElement(d.a,{fullWidth:!0,label:"Rate",type:"number",onChange:function(e){t.rate=parseInt(e.target.value)}}))))})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(W,{onClick:function(){m()}},"Add Sale")))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(W,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(W,{onClick:r,loading:l},"Add Invoice"))))))},_e=function(e){var t=Be(),a=t.openInvoiceModal,n=t.closeInvoiceModal,o=t.modalOpen,r=t.showSuccessMessage,l=t.hideSuccessMessage,u=t.deleteInvoice,f=t.loadMoreInvoices,E=t.addInvoice,h=t.deleting,b=t.loading,g=t.rows,p=t.products,v=t.loadingProducts,O=t.customers,j=t.loadingCustomers;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1}),c.a.createElement(i.a,{item:!0,xs:10},c.a.createElement(s.a,{variant:"h4"},"Invoices"),c.a.createElement(i.a,{container:!0,alignItems:"center"},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(T.a,{fullWidth:!0},c.a.createElement(d.a,{variant:"outlined",placeholder:"Search Invoices"}))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(m.a,{variant:"contained",color:"primary",onClick:a,disabled:v||j},"Add New Invoice"))))),c.a.createElement(s.a,{variant:"body1"},"Showing ",g.length," out of ",e.numberOfInvoices," invoices"),c.a.createElement(We,{rows:g,onRowDelete:u,deleting:h,onLoadMore:f,allLoaded:g.length===e.numberOfInvoices,loading:b}))),c.a.createElement($,{severity:"success",open:r,onClose:l,message:"Invoice added successfully"}),c.a.createElement(Te,{open:o,close:n,"aria-labelledby":"invoice_modal",onAdd:E,products:p,customers:O}))},Qe=["Vendor","Amount","Account","Details","Date","Actions"],ze=Object(k.a)({head:{backgroundColor:"#ECEDEF"}}),He=function(e){var t=ze();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(w.a,null,c.a.createElement(M.a,null,c.a.createElement(D.a,{classes:{root:t.head}},c.a.createElement(V.a,null,Qe.map((function(e,t){return c.a.createElement(I.a,{key:t},e)})))),c.a.createElement(L.a,null,e.rows.map((function(t,a){return c.a.createElement(V.a,{key:t.id,onClick:function(){console.log("clicked",a)}},c.a.createElement(I.a,null,t.vendor.name),c.a.createElement(I.a,null,t.amount),c.a.createElement(I.a,null,t.account.name),c.a.createElement(I.a,null,t.details),c.a.createElement(I.a,null,t.createdAt),c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(x.a,null))))})))),c.a.createElement(W,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading},"Load More"))))},Je=[],Ke=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)([]),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)([]),v=Object(l.a)(p,2),O=v[0],j=v[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),S=C[0],A=C[1],P=Object(n.useState)(!1),x=Object(l.a)(P,2),k=x[0],w=x[1],M=Object(n.useState)(!1),D=Object(l.a)(M,2),V=D[0],I=D[1],L=Object(n.useState)(!1),N=Object(l.a)(L,2),F=N[0],W=N[1];return Object(n.useEffect)((function(){w(!0),_.vendorPayment.get((function(e){Je=[];var t=[];e.docs.forEach((function(e){Je.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),w(!1)}),(function(){w(!1)})),I(!0),_.vendor.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),g(t),I(!1)}),(function(){I(!1)})),W(!0),_.account.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),j(t),W(!1)}),(function(){W(!1)}))}),[]),{openVendorPaymentModal:function(){c(!0)},closeVendorPaymentModal:function(e){c(!1),e&&u(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){u(!1)},deleteVendorPayment:function(e){A(!0),_.vendorPayment.delete(m[e].id,(function(){Je.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),A(!1)}),(function(){A(!1)}))},addVendorPayment:function(e){m.push(e),m.sort((function(e,t){return t.createdAt-e.createdAt})),f(m)},loadMoreVendorPayments:function(){w(!0),_.vendorPayment.get((function(e){var t=[];e.docs.forEach((function(e){Je.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),w(!1)}),(function(){w(!1)}),Je[Je.length-1])},deleting:S,loading:k,rows:m,vendors:b,accounts:O,loadingVendors:V,loadingAccounts:F}},Ue=function(e,t){var a=Object(n.useState)(),c=Object(l.a)(a,2),o=c[0],r=c[1],i=Object(n.useState)(),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(n.useState)(0),f=Object(l.a)(m,2),E=f[0],h=f[1],b=Object(n.useState)(""),g=Object(l.a)(b,2),p=g[0],v=g[1],O=Object(n.useState)(!1),j=Object(l.a)(O,2),y=j[0],C=j[1];return{handleClick:function(){if(!y){C(!0);var a=Date.now(),n={vendor:{id:null===o||void 0===o?void 0:o.id,name:null===o||void 0===o?void 0:o.name},amount:E,account:{id:null===s||void 0===s?void 0:s.id,name:null===s||void 0===s?void 0:s.name},details:p,createdAt:a,updatedAt:a};_.vendorPayment.add(n,(function(a){C(!1),n.id=a,e(n),t(!0)}),(function(){C(!1)}))}},onAmountChange:function(e){h(e)},onDetailsChange:function(e){v(e)},setVendor:r,setAccount:d,loading:y}},Xe=function(e){var t=e.open,a=e.close,n=e.onAdd,o=Ue(n,a),r=o.handleClick,l=o.loading,u=o.onAmountChange,s=o.onDetailsChange,m=o.setVendor,f=o.setAccount;return c.a.createElement(H.a,{open:t},c.a.createElement(J.a,null,"Add New VendorPayment"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(oe.a,{id:"vendor-search",options:e.vendors,getOptionLabel:function(e){return e.name||"Dummy Vendor"},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Search Vendor",variant:"outlined"}))},onChange:function(e,t){t&&m(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(oe.a,{id:"account-search",options:e.accounts,getOptionLabel:function(e){return e.name||"Dummy Account"},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Search Account",variant:"outlined"}))},onChange:function(e,t){t&&f(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Amount",type:"number",onChange:function(e){u(parseInt(e.target.value))}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Details",multiline:!0,rows:3,onChange:function(e){s(e.target.value)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(W,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(W,{onClick:r,loading:l},"Add VendorPayment"))))))},Ze=function(e){var t=Ke(),a=t.openVendorPaymentModal,n=t.closeVendorPaymentModal,o=t.modalOpen,r=t.showSuccessMessage,l=t.hideSuccessMessage,u=t.deleteVendorPayment,f=t.loadMoreVendorPayments,E=t.addVendorPayment,h=t.deleting,b=t.loading,g=t.rows,p=t.vendors,v=t.accounts,O=t.loadingVendors,j=t.loadingAccounts;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1}),c.a.createElement(i.a,{item:!0,xs:10},c.a.createElement(s.a,{variant:"h4"},"VendorPayments"),c.a.createElement(i.a,{container:!0,alignItems:"center"},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(T.a,{fullWidth:!0},c.a.createElement(d.a,{variant:"outlined",placeholder:"Search VendorPayments"}))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(m.a,{variant:"contained",color:"primary",onClick:a,disabled:j||O},"Add New VendorPayment"))))),c.a.createElement(s.a,{variant:"body1"},"Showing ",g.length," out of ",e.numberOfVendorPayments," vendorPayments"),c.a.createElement(He,{rows:g,onRowDelete:u,deleting:h,onLoadMore:f,allLoaded:g.length===e.numberOfVendorPayments,loading:b}))),c.a.createElement($,{severity:"success",open:r,onClose:l,message:"VendorPayment added successfully"}),c.a.createElement(Xe,{open:o,close:n,"aria-labelledby":"vendorPayment_modal",onAdd:E,vendors:p,accounts:v}))},$e=["Customer","Amount","Account","Details","Date","Actions"],Ge=Object(k.a)({head:{backgroundColor:"#ECEDEF"}}),Ye=function(e){var t=Ge();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement(w.a,null,c.a.createElement(M.a,null,c.a.createElement(D.a,{classes:{root:t.head}},c.a.createElement(V.a,null,$e.map((function(e,t){return c.a.createElement(I.a,{key:t},e)})))),c.a.createElement(L.a,null,e.rows.map((function(t,a){return c.a.createElement(V.a,{key:t.id,onClick:function(){console.log("clicked",a)}},c.a.createElement(I.a,null,t.customer.name),c.a.createElement(I.a,null,t.amount),c.a.createElement(I.a,null,t.account.name),c.a.createElement(I.a,null,t.details),c.a.createElement(I.a,null,t.createdAt),c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(x.a,null))))})))),c.a.createElement(W,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading},"Load More"))))},et=[],tt=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)([]),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)([]),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)([]),v=Object(l.a)(p,2),O=v[0],j=v[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),S=C[0],A=C[1],P=Object(n.useState)(!1),x=Object(l.a)(P,2),k=x[0],w=x[1],M=Object(n.useState)(!1),D=Object(l.a)(M,2),V=D[0],I=D[1],L=Object(n.useState)(!1),N=Object(l.a)(L,2),F=N[0],W=N[1];return Object(n.useEffect)((function(){w(!0),_.customerPayment.get((function(e){et=[];var t=[];e.docs.forEach((function(e){et.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),w(!1)}),(function(){w(!1)})),I(!0),_.customer.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),g(t),I(!1)}),(function(){I(!1)})),W(!0),_.account.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),j(t),W(!1)}),(function(){W(!1)}))}),[]),{openCustomerPaymentModal:function(){c(!0)},closeCustomerPaymentModal:function(e){c(!1),e&&u(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){u(!1)},deleteCustomerPayment:function(e){A(!0),_.customerPayment.delete(m[e].id,(function(){et.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),A(!1)}),(function(){A(!1)}))},addCustomerPayment:function(e){m.push(e),m.sort((function(e,t){return t.createdAt-e.createdAt})),f(m)},loadMoreCustomerPayments:function(){w(!0),_.customerPayment.get((function(e){var t=[];e.docs.forEach((function(e){et.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),w(!1)}),(function(){w(!1)}),et[et.length-1])},deleting:S,loading:k,rows:m,customers:b,accounts:O,loadingCustomers:V,loadingAccounts:F}},at=function(e,t){var a=Object(n.useState)(),c=Object(l.a)(a,2),o=c[0],r=c[1],i=Object(n.useState)(),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(n.useState)(0),f=Object(l.a)(m,2),E=f[0],h=f[1],b=Object(n.useState)(""),g=Object(l.a)(b,2),p=g[0],v=g[1],O=Object(n.useState)(!1),j=Object(l.a)(O,2),y=j[0],C=j[1];return{handleClick:function(){if(!y){C(!0);var a=Date.now(),n={customer:{id:null===o||void 0===o?void 0:o.id,name:null===o||void 0===o?void 0:o.name},amount:E,account:{id:null===s||void 0===s?void 0:s.id,name:null===s||void 0===s?void 0:s.name},details:p,createdAt:a,updatedAt:a};_.customerPayment.add(n,(function(a){C(!1),n.id=a,e(n),t(!0)}),(function(){C(!1)}))}},onAmountChange:function(e){h(e)},onDetailsChange:function(e){v(e)},setCustomer:r,setAccount:d,loading:y}},nt=function(e){var t=e.open,a=e.close,n=e.onAdd,o=at(n,a),r=o.handleClick,l=o.loading,u=o.onAmountChange,s=o.onDetailsChange,m=o.setCustomer,f=o.setAccount;return c.a.createElement(H.a,{open:t},c.a.createElement(J.a,null,"Add New CustomerPayment"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(oe.a,{id:"customer-search",options:e.customers,getOptionLabel:function(e){return e.name||"Dummy Customer"},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Search Customer",variant:"outlined"}))},onChange:function(e,t){t&&m(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(oe.a,{id:"account-search",options:e.accounts,getOptionLabel:function(e){return e.name||"Dummy Account"},renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Search Account",variant:"outlined"}))},onChange:function(e,t){t&&f(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Amount",type:"number",onChange:function(e){u(parseInt(e.target.value))}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{fullWidth:!0,label:"Details",multiline:!0,rows:3,onChange:function(e){s(e.target.value)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(W,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(W,{onClick:r,loading:l},"Add CustomerPayment"))))))},ct=function(e){var t=tt(),a=t.openCustomerPaymentModal,n=t.closeCustomerPaymentModal,o=t.modalOpen,r=t.showSuccessMessage,l=t.hideSuccessMessage,u=t.deleteCustomerPayment,f=t.loadMoreCustomerPayments,E=t.addCustomerPayment,h=t.deleting,b=t.loading,g=t.rows,p=t.customers,v=t.accounts,O=t.loadingCustomers,j=t.loadingAccounts;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1}),c.a.createElement(i.a,{item:!0,xs:10},c.a.createElement(s.a,{variant:"h4"},"CustomerPayments"),c.a.createElement(i.a,{container:!0,alignItems:"center"},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(T.a,{fullWidth:!0},c.a.createElement(d.a,{variant:"outlined",placeholder:"Search CustomerPayments"}))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(m.a,{variant:"contained",color:"primary",onClick:a,disabled:j||O},"Add New CustomerPayment"))))),c.a.createElement(s.a,{variant:"body1"},"Showing ",g.length," out of ",e.numberOfCustomerPayments," ","customerPayments"),c.a.createElement(Ye,{rows:g,onRowDelete:u,deleting:h,onLoadMore:f,allLoaded:g.length===e.numberOfCustomerPayments,loading:b}))),c.a.createElement($,{severity:"success",open:r,onClose:l,message:"CustomerPayment added successfully"}),c.a.createElement(nt,{open:o,close:n,"aria-labelledby":"customerPayment_modal",onAdd:E,customers:p,accounts:v}))},ot=function(e){var t=[{path:"/",component:c.a.createElement(G,{numberOfProducts:e.products})},{path:"/products",component:c.a.createElement(G,{numberOfProducts:e.products})},{path:"/purchases",component:c.a.createElement(Le,{numberOfPurchases:e.purchases})},{path:"/payments/vendors",component:c.a.createElement(Ze,{numberOfVendorPayments:e.vendorPayments})},{path:"/payments/customers",component:c.a.createElement(ct,{numberOfCustomerPayments:e.customerPayments})},{path:"/invoices",component:c.a.createElement(_e,{numberOfInvoices:e.invoices})},{path:"/customers",component:c.a.createElement(le,{numberOfCustomers:e.customers})},{path:"/vendors",component:c.a.createElement(pe,{numberOfVendors:e.vendors})},{path:"/accounts",component:c.a.createElement(Pe,{numberOfAccounts:e.accounts})},{path:"/cities",component:c.a.createElement(se,{numberOfCities:e.cities})},{path:"*",component:c.a.createElement(s.a,{variant:"h3"},"Some Page")}];return c.a.createElement(O.c,null,t.map((function(e,t){return c.a.createElement(O.a,{exact:!0,path:e.path,key:t},e.component)})))},rt=function(){return c.a.createElement(m.a,{fullWidth:!0,variant:"text",color:"primary",onClick:function(){E.a.auth().signOut().then((function(){console.log("succesfully signed out")})).catch((function(e){console.log("error",e)}))}},"Logout")},lt=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(n.useState)(0),d=Object(l.a)(s,2),m=d[0],f=d[1],E=Object(n.useState)(0),h=Object(l.a)(E,2),b=h[0],g=h[1],p=Object(n.useState)(0),v=Object(l.a)(p,2),O=v[0],j=v[1],y=Object(n.useState)(0),C=Object(l.a)(y,2),S=C[0],A=C[1],P=Object(n.useState)(0),x=Object(l.a)(P,2),k=x[0],w=x[1],M=Object(n.useState)(0),D=Object(l.a)(M,2),V=D[0],I=D[1],L=Object(n.useState)(0),N=Object(l.a)(L,2),F=N[0],W=N[1];return Object(n.useEffect)((function(){_.counts.get((function(e){c(e.docs[0].data().products?e.docs[0].data().products:0),u(e.docs[0].data().cities?e.docs[0].data().cities:0),f(e.docs[0].data().customers?e.docs[0].data().customers:0),g(e.docs[0].data().vendors?e.docs[0].data().vendors:0),j(e.docs[0].data().accounts?e.docs[0].data().accounts:0),A(e.docs[0].data().purchases?e.docs[0].data().purchases:0),I(e.docs[0].data().vendorPayments?e.docs[0].data().vendorPayments:0),W(e.docs[0].data().customerPayments?e.docs[0].data().customerPayments:0),w(e.docs[0].data().invoices?e.docs[0].data().invoices:0)}))}),[]),{numberOfProducts:a,numberOfCities:i,numberOfCustomers:m,numberOfVendors:b,numberOfAccounts:O,numberOfPurchases:S,numberOfInvoices:k,numberOfVendorPayments:V,numberOfCustomerPayments:F}},it=function(){var e=lt(),t=e.numberOfProducts,a=e.numberOfCities,n=e.numberOfCustomers,o=e.numberOfVendors,r=e.numberOfAccounts,l=e.numberOfPurchases,u=e.numberOfInvoices,d=e.numberOfVendorPayments,m=e.numberOfCustomerPayments;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{container:!0,style:{height:"100vh",backgroundColor:"#FFFFFF"}},c.a.createElement(A.a,{basename:"/bilalshop"},c.a.createElement(i.a,{item:!0,xs:2},c.a.createElement("div",{style:{padding:16}},c.a.createElement(s.a,{variant:"h5",align:"center"},"Bilal Shop"),c.a.createElement(rt,null)),c.a.createElement(S,{products:t,cities:a,customers:n,vendors:o,accounts:r,purchases:l,invoices:u,vendorPayments:d,customerPayments:m})),c.a.createElement(i.a,{item:!0,xs:10},c.a.createElement(ot,{products:t,cities:a,customers:n,vendors:o,accounts:r,purchases:l,invoices:u,vendorPayments:d,customerPayments:m})))))},ut=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),i=Object(l.a)(r,2),u=i[0],s=i[1];return Object(n.useEffect)((function(){E.a.auth().onAuthStateChanged((function(e){s(!!e),o(!1)}))}),[]),a?c.a.createElement(b.a,null):u?c.a.createElement(it,null):c.a.createElement(h,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=a(176),dt=a(88),mt=Object(dt.a)({props:{MuiTextField:{variant:"outlined"},MuiButton:{color:"primary",variant:"contained"}}});E.a.initializeApp({apiKey:"AIzaSyAN6y59cHMfZiXomgcBbIVh5p1m0yLQshI",projectId:"bilalshop-b7685"}),r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(st.a,{theme:mt},c.a.createElement(ut,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,a){e.exports=a(121)}},[[99,1,2]]]);
//# sourceMappingURL=main.062ac18f.chunk.js.map