(this["webpackJsonpbilalshop-frontend"]=this["webpackJsonpbilalshop-frontend"]||[]).push([[0],{114:function(e,t,a){e.exports=a(135)},119:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(15),l=a.n(o),r=(a(119),a(2)),i=a(171),s=a(104),d=a(63),u=a(190),m=a(178),f=a(10),g=a.n(f),E=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),f=Object(r.a)(l,2),E=f[0],p=f[1],b=Object(n.useState)(""),h=Object(r.a)(b,2),v=h[0],O=h[1];return c.a.createElement(i.a,{container:!0,justify:"center",alignItems:"center",direction:"row",style:{height:"100vh",backgroundColor:"lightBlue"}},c.a.createElement(i.a,{item:!0,md:4,sm:8,xs:12},c.a.createElement(s.a,{style:{padding:32,margin:16}},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(d.a,{variant:"h6",color:"error"},v)),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,variant:"outlined",label:"Email",type:"email",onChange:function(e){o(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,variant:"outlined",type:"password",label:"Password",onChange:function(e){p(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(m.a,{fullWidth:!0,variant:"contained",onClick:function(){O(""),g.a.auth().signInWithEmailAndPassword(a,E).then((function(){})).catch((function(e){O("Invalid User")}))}},"Login"))))))},p=a(182),b=a(186),h=a(54),v=a(179),O=a(180),y=a(39),j=function(e){var t=Object(y.f)();return c.a.createElement(v.a,{button:!0,onClick:function(){t.push(e.link),e.close()},selected:e.selected,divider:!0},c.a.createElement(O.a,{primary:e.text}))},C=a(29),S=a(181),x=a(194),A=a(177),w=function(e){var t=Object(C.a)(),a=Object(S.a)(t.breakpoints.down("sm"));return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(x.a,{anchor:"left",open:e.showNav,onClose:e.toggleNavigation},c.a.createElement(A.a,null,e.items.map((function(t,a){return c.a.createElement(j,Object.assign({key:a},t,{close:e.toggleNavigation}))})))),!a&&c.a.createElement(A.a,null,e.items.map((function(t,a){return c.a.createElement(j,Object.assign({key:a},t,{close:e.toggleNavigation}))}))))},M=Object(y.g)((function(e){var t=e.history,a=Object(h.a)(e,["history"]),n=[{text:"Products (".concat(a.products,")"),link:"/products",selected:"/products"===t.location.pathname||"/"===t.location.pathname},{text:"Purchases (".concat(a.purchases,")"),link:"/purchases",selected:"/purchases"===t.location.pathname},{text:"Vendors (".concat(a.vendors,")"),link:"/vendors",selected:"/vendors"===t.location.pathname},{text:"Customers (".concat(a.customers,")"),link:"/customers",selected:"/customers"===t.location.pathname},{text:"Employees (".concat(a.employees,")"),link:"/employees",selected:"/employees"===t.location.pathname},{text:"Accounts (".concat(a.accounts,")"),link:"/accounts",selected:"/accounts"===t.location.pathname},{text:"Loans",link:"/loans",selected:"/loans"===t.location.pathname},{text:"Expenses",link:"/expenses",selected:"/expenses"===t.location.pathname},{text:"Vendor Payments (".concat(a.vendorPayments,")"),link:"/payments/vendors",selected:"/payments/vendors"===t.location.pathname},{text:"Customer Payments (".concat(a.customerPayments,")"),link:"/payments/customers",selected:"/payments/customer"===t.location.pathname},{text:"Invoices (".concat(a.invoices,")"),link:"/invoices",selected:"/invoices"===t.location.pathname},{text:"Cities (".concat(a.cities,")"),link:"/cities",selected:"/cities"===t.location.pathname}];return c.a.createElement(w,{items:n,showNav:a.showNav,toggleNavigation:a.toggleNavigation})})),P=a(48),k={product:{get:function(e,t,a){var n=Object(f.firestore)().collection("products").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("products").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("products").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},customer:{get:function(e,t,a){var n=Object(f.firestore)().collection("customers").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("customers").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("customers").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},purchase:{get:function(e,t,a){var n=Object(f.firestore)().collection("purchases").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("purchases").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("purchases").doc(e).delete().then((function(){t&&t()})).catch((function(){a&&a()}))}},invoice:{get:function(e,t,a){var n=Object(f.firestore)().collection("invoices").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("invoices").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("invoices").doc(e).delete().then((function(){t&&t()})).catch((function(){a&&a()}))}},vendor:{get:function(e,t,a){var n=Object(f.firestore)().collection("vendors").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("vendors").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("vendors").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},city:{get:function(e,t,a){Object(f.firestore)().collection("cities").orderBy("name").get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("cities").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("cities").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},account:{get:function(e,t,a){var n=Object(f.firestore)().collection("accounts").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("accounts").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("accounts").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},vendorPayment:{get:function(e,t,a){var n=Object(f.firestore)().collection("vendorPayments").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("vendorPayments").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("vendorPayments").doc(e).delete().then((function(){t&&t()})).catch((function(){a&&a()}))}},customerPayment:{get:function(e,t,a){var n=Object(f.firestore)().collection("customerPayments").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("customerPayments").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("customerPayments").doc(e).delete().then((function(){t&&t()})).catch((function(){a&&a()}))}},employee:{get:function(e,t,a){var n=Object(f.firestore)().collection("employees").limit(5).orderBy("createdAt","desc");a&&(n=n.startAfter(a)),n.get().then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))},add:function(e,t,a){Object(f.firestore)().collection("employees").add(e).then((function(e){t(e.id)})).catch((function(){a()}))},delete:function(e,t,a){Object(f.firestore)().collection("employees").doc(e).delete().then((function(){t&&t()})).catch((function(e){e&&e()}))}},counts:{get:function(e){Object(f.firestore)().collection("counts").limit(1).onSnapshot((function(t){e(t)}))}}},F=[],D=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)(!1),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)(!1),v=Object(r.a)(h,2),O=v[0],y=v[1];return Object(n.useEffect)((function(){y(!0),k.product.get((function(e){F=[];var t=[];e.docs.forEach((function(e){F.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),y(!1)}),(function(){y(!1)}))}),[]),{openProductModal:function(){c(!0)},closeProductModal:function(e){c(!1),e&&s(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){s(!1)},deleteProduct:function(e){b(!0),k.product.delete(m[e].id,(function(){F.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),b(!1)}),(function(){b(!1)}))},addProduct:function(e){m.push(e),m.sort((function(e,t){return(t.createdAt?t.createdAt:0)-(e.createdAt?e.createdAt:0)})),f(m)},loadMoreProducts:function(){y(!0),k.product.get((function(e){var t=[];e.docs.forEach((function(e){F.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),y(!1)}),(function(){y(!1)}),F[F.length-1])},deleting:p,loading:O,rows:m}},L=a(183),B=a(184),V=a(103),I=function(e){var t=Object(V.a)({},e),a=t.loading,n=t.disabled,o=Object(h.a)(t,["loading","disabled"]);return c.a.createElement(m.a,Object.assign({},o,{disabled:a||n,startIcon:a?c.a.createElement(p.a,{size:"1rem"}):""}),e.children)},N=function(e,t){var a=Object(n.useState)(""),c=Object(r.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(""),s=Object(r.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(!1),f=Object(r.a)(m,2),g=f[0],E=f[1];return{handleClick:function(){if(!g){E(!0);var a=Date.now(),n={name:o,details:d,quantity:0,rate:0,createdAt:a,updatedAt:a};k.product.add(n,(function(a){E(!1),n.id=a,e(n),t(!0)}),(function(){E(!1)}))}},onNameChange:function(e){l(e)},onDetailsChange:function(e){u(e)},loading:g}},R=function(e){var t=e.open,a=e.close,n=e.onAdd,o=N(n,a),l=o.handleClick,r=o.onNameChange,s=o.onDetailsChange,d=o.loading;return c.a.createElement(L.a,{open:t},c.a.createElement(B.a,null,"Add New Product"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Product Name",onChange:function(e){r(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Details",multiline:!0,rows:3,onChange:function(e){s(e.target.value)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(I,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(I,{onClick:l,loading:d},"Add Product"))))))},W=a(193),z=a(191),T=function(e){return c.a.createElement(W.a,{open:e.open,autoHideDuration:1e3,onClose:function(t,a){"clickaway"!==a&&e.onClose()},anchorOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement(z.a,{variant:"filled",severity:e.severity},e.message))},_=a(18),q=a.n(_),Q=a(17),U=a.n(Q),G=a(185),H=a(102),J={primary:{blue:{light:"#F0F8FF",base:"#0066CC",interaction:"#006BF0",dark:"#003C66"},pink:{light:"#FFF0F3",base:"#FF4B73",interaction:"#FF4B73",dark:"#660016"},green:{light:"#F2FFF0",base:"#6ECC5A",interaction:"#38A321",dark:"#136600"},darkBlue:{light:"#F0F4FF",base:"#001E6E",interaction:"#001E6E",dark:"#000B29"}},secondary:{blue:{light:"#1DCEFF",dark:"#004EC9"},pink:{light:"#FFAFB9",dark:"#A61B56"},green:{light:"#29A900",dark:"#007600"}},system:{red:{light:"#FFF5F8",base:"#DC0043",dark:"#66001F"},orange:{light:"#FFF7F5",base:"#D43500",dark:"#661A00"},green:{light:"#F0FFF0",base:"#00814B",dark:"#064D00"}},grayscale:["#FFFFFF","#FCFCFC","#F5F5F5","#E1E1E1","#C8C8C8","#AFAFAF","#686868","#4B4B4B","#141414"]},Y={primary:[J.primary.blue,J.primary.pink,J.primary.green,J.primary.darkBlue],secondary:[J.secondary.blue,J.secondary.pink,J.secondary.green],system:{error:J.system.red,warning:J.system.orange,success:J.system.green},grayscale:J.grayscale},K=Object(H.a)({palette:{primary:{main:Y.primary[0].interaction}},props:{MuiTextField:{variant:"outlined"},MuiButton:{color:"primary",variant:"contained"}}}),X=function(e){return c.a.createElement(d.a,{variant:"h6",style:{color:e.color?e.color:Y.grayscale[8]}},e.children)},Z=function(e){return c.a.createElement(d.a,{variant:"h5",style:{color:e.color?e.color:Y.grayscale[8],fontWeight:"bold"}},e.children)},$=function(e){return c.a.createElement(d.a,{variant:"body1",style:{color:e.color?e.color:Y.grayscale[8]}},e.children)},ee=function(e){return c.a.createElement(d.a,{variant:"caption",style:{color:e.color?e.color:Y.grayscale[8]}},e.children)},te=a(37),ae=a.n(te),ne=Object(b.a)({head:{}}),ce=function(e){var t=ne();return c.a.createElement("div",{className:t.head},e.rows.map((function(t,a){return c.a.createElement("div",{style:{padding:8,borderBottom:"1px solid ".concat(Y.grayscale[4])},key:a},c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,c.a.createElement(ae.a,{fontSize:"small"}))),c.a.createElement(i.a,{item:!0,xs:6,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,t.name),c.a.createElement("div",{style:{paddingTop:4}},c.a.createElement($,{color:Y.grayscale[7]},t.details))),c.a.createElement(i.a,{item:!0,style:{borderLeft:"1px solid ".concat(Y.grayscale[3]),paddingLeft:16,paddingRight:8,paddingTop:16,paddingBottom:16}},c.a.createElement($,{color:Y.grayscale[7]},"Rs."),c.a.createElement($,{color:Y.grayscale[7]},"Qt."),c.a.createElement($,{color:Y.primary[0].base},"Tl.")),c.a.createElement(i.a,{item:!0,xs:2,style:{paddingTop:16,paddingBottom:16}},c.a.createElement($,{color:Y.grayscale[7]},t.rate),c.a.createElement($,{color:Y.grayscale[7]},t.quantity),c.a.createElement($,{color:Y.primary[0].base},(t.quantity||0)*(t.rate||0))),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(G.a,{"aria-label":"edit"},c.a.createElement(U.a,{fontSize:"small"})),c.a.createElement(G.a,{"aria-label":"delete",onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(q.a,{fontSize:"small"})))))})),c.a.createElement(I,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading,fullWidth:!0,variant:"text"},"Load More"))},oe=a(174),le=a(96),re=a.n(le),ie=Object(b.a)({wrapper:{height:"100vh"},content:{overflowY:"scroll",height:"calc(100vh - 96px - 56px - 16px)"},header:{height:96,backgroundColor:Y.primary[0].light,borderBottom:"1px solid ".concat(Y.primary[0].base),padding:8}}),se=function(e){var t=ie();return c.a.createElement("div",{className:t.wrapper},e.children)},de=function(e){var t=ie();return c.a.createElement("div",{className:t.content},e.children)},ue=function(e){var t=ie();return c.a.createElement("div",{className:t.header},c.a.createElement(oe.a,{fullWidth:!0},c.a.createElement(u.a,{variant:"outlined",placeholder:e.placeholder,style:{backgroundColor:"white"}})),c.a.createElement($,null,"Showing ",e.loadedRows," out of ",e.totalRows," ",e.label,c.a.createElement(G.a,{onClick:e.openModal},c.a.createElement(re.a,{color:"primary"}))))},me=Object(b.a)({wrapper:{height:"100vh"},content:{overflowY:"scroll",height:"calc(100vh - 110px - 56px - 16px)"}}),fe=function(e){var t=D(),a=t.openProductModal,n=t.closeProductModal,o=t.modalOpen,l=t.showSuccessMessage,r=t.hideSuccessMessage,i=t.deleteProduct,s=t.loadMoreProducts,d=t.addProduct,u=t.deleting,m=t.loading,f=t.rows;me();return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Products",loadedRows:f.length,totalRows:e.numberOfProducts,openModal:a,label:"products"}),c.a.createElement(de,null,c.a.createElement(ce,{rows:f,onRowDelete:i,deleting:u,onLoadMore:s,allLoaded:f.length===e.numberOfProducts,loading:m}))),c.a.createElement(T,{severity:"success",open:l,onClose:r,message:"Product added successfully"}),c.a.createElement(R,{open:o,close:n,"aria-labelledby":"product_modal",onAdd:d}))},ge=[],Ee=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)([]),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)(!1),v=Object(r.a)(h,2),O=v[0],y=v[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),S=C[0],x=C[1],A=Object(n.useState)(!1),w=Object(r.a)(A,2),M=w[0],P=w[1];return Object(n.useEffect)((function(){x(!0),k.customer.get((function(e){ge=[];var t=[];e.docs.forEach((function(e){ge.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),x(!1)}),(function(){x(!1)})),P(!0),k.city.get((function(e){var t=[];console.log("total",e.docs.length),e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),b(t),P(!1)}),(function(){P(!1)}))}),[]),{openCustomerModal:function(){c(!0)},closeCustomerModal:function(e){c(!1),e&&s(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){s(!1)},deleteCustomer:function(e){y(!0),k.customer.delete(m[e].id,(function(){ge.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),y(!1)}),(function(){y(!1)}))},addCustomer:function(e){m.push(e),m.sort((function(e,t){return(t.createdAt?t.createdAt:0)-(e.createdAt?e.createdAt:0)})),f(m)},loadMoreCustomers:function(){x(!0),k.customer.get((function(e){var t=[];e.docs.forEach((function(e){ge.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),x(!1)}),(function(){x(!1)}),ge[ge.length-1])},deleting:O,loading:S,rows:m,cities:p,loadingCities:M,addCity:function(e){var t=Date.now(),a={name:e,createdAt:t,updatedAt:t};p.push(a),b(p)}}},pe=function(e,t){var a=Object(n.useState)(""),c=Object(r.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(""),s=Object(r.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(),f=Object(r.a)(m,2),g=f[0],E=f[1],p=Object(n.useState)(!1),b=Object(r.a)(p,2),h=b[0],v=b[1];return{handleClick:function(){if(!h){v(!0);var a=Date.now(),n={name:o,mobile:d,city:{name:(null===g||void 0===g?void 0:g.name)||"Dummy City",id:null===g||void 0===g?void 0:g.id},debt:0,createdAt:a,updatedAt:a};k.customer.add(n,(function(a){v(!1),n.id=a,e(n),t(!0)}),(function(){v(!1)}))}},onNameChange:function(e){l(e)},onMobileChange:function(e){u(e)},city:g,loading:h,setCity:E}},be=a(192),he=function(e){var t=e.open,a=e.close,n=e.onAdd,o=pe(n,a),l=o.handleClick,r=o.onNameChange,s=o.setCity,d=o.onMobileChange,m=o.loading;o.city;return c.a.createElement(L.a,{open:t},c.a.createElement(B.a,null,"Add New Customer"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Customer Name",onChange:function(e){r(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Mobile Number",onChange:function(e){d(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(be.a,{id:"city-search",options:e.cities,getOptionLabel:function(e){return e.name},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"City",variant:"outlined"}))},onChange:function(e,t){t&&s(t)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(I,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(I,{onClick:l,loading:m},"Add Customer"))))))},ve=a(52),Oe=a.n(ve),ye=a(73),je=a.n(ye),Ce=function(e){return c.a.createElement("div",null,e.rows.map((function(t,a){var n;return c.a.createElement("div",{style:{padding:8,borderBottom:"1px solid ".concat(Y.grayscale[4])},key:a},c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,c.a.createElement(ae.a,{fontSize:"small"}))),c.a.createElement(i.a,{item:!0,xs:10,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,t.name),c.a.createElement("div",{style:{paddingTop:4}},c.a.createElement(i.a,{container:!0,alignItems:"baseline",spacing:1},c.a.createElement(i.a,{item:!0},c.a.createElement(ee,null,"Debt:")),c.a.createElement(i.a,{item:!0},c.a.createElement(Z,{color:Y.primary[2].interaction},t.debt))))),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(G.a,{"aria-label":"edit"},c.a.createElement(U.a,{fontSize:"small"})),c.a.createElement(G.a,{"aria-label":"delete",onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(q.a,{fontSize:"small"})))),c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"center",spacing:1},c.a.createElement(i.a,{item:!0},c.a.createElement(Oe.a,{fontSize:"small",style:{color:Y.grayscale[7]}})),c.a.createElement(i.a,{item:!0},c.a.createElement($,{color:Y.grayscale[7]},t.mobile)))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"center",spacing:1},c.a.createElement(i.a,{item:!0},c.a.createElement(je.a,{fontSize:"small",style:{color:Y.grayscale[7]}})),c.a.createElement(i.a,{item:!0},c.a.createElement($,{color:Y.grayscale[7]},null===(n=t.city)||void 0===n?void 0:n.name))))))})),c.a.createElement(I,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading,fullWidth:!0,variant:"text"},"Load More"))},Se=function(e){var t=Ee(),a=t.openCustomerModal,n=t.closeCustomerModal,o=t.modalOpen,l=t.showSuccessMessage,r=t.hideSuccessMessage,i=t.deleteCustomer,s=t.loadMoreCustomers,d=t.addCustomer,u=t.deleting,m=t.loading,f=t.rows,g=t.cities;t.loadingCities,t.addCity;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Customers",loadedRows:f.length,totalRows:e.numberOfCustomers,openModal:a,label:"customers"}),c.a.createElement(de,null,c.a.createElement(Ce,{rows:f,onRowDelete:i,deleting:u,onLoadMore:s,allLoaded:f.length===e.numberOfCustomers,loading:m}))),c.a.createElement(T,{severity:"success",open:l,onClose:r,message:"Customer added successfully"}),c.a.createElement(he,{open:o,close:n,"aria-labelledby":"customer_modal",onAdd:d,cities:g}))},xe=[],Ae=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)(!1),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)(!1),v=Object(r.a)(h,2),O=v[0],y=v[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),S=C[0],x=C[1];return Object(n.useEffect)((function(){y(!0),k.city.get((function(e){var t=[];console.log("total",e.docs.length),e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),f(t),y(!1)}),(function(){y(!1)}))}),[]),{showSuccessMessage:a,hideSuccessMessage:function(){c(!1)},deleteCity:function(e){b(!0),k.city.delete(m[e].id,(function(){xe.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),b(!1)}),(function(){b(!1)}))},addCity:function(e){x(!0);var t=Date.now(),a={name:e,createdAt:t,updatedAt:t};k.city.add(a,(function(e){x(!1),a.id=e,f((function(e){return e.concat(a)})),s("")}),(function(){x(!1)}))},deleting:p,loading:O,adding:S,rows:m,setCity:s,city:i}},we=function(e){var t=Ae(),a=(t.showSuccessMessage,t.hideSuccessMessage,t.deleteCity),n=(t.addCity,t.deleting,t.loading),o=t.rows;t.setCity,t.adding,t.city;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Cities",loadedRows:o.length,totalRows:o.length,openModal:function(){},label:"cities"}),c.a.createElement(de,null,c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(p.a,null),c.a.createElement(A.a,null,o.map((function(e,t){return c.a.createElement(v.a,{key:t},c.a.createElement(i.a,{container:!0,alignItems:"center"},c.a.createElement(i.a,{item:!0,xs:8},c.a.createElement(O.a,null,e.name)),c.a.createElement(i.a,{item:!0,xs:2},c.a.createElement(G.a,null,c.a.createElement(U.a,null))),c.a.createElement(i.a,{item:!0,xs:2},c.a.createElement(G.a,{onClick:function(){a(t)}},c.a.createElement(q.a,null)))))})))))))},Me=[],Pe=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)([]),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)(!1),v=Object(r.a)(h,2),O=v[0],y=v[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),S=C[0],x=C[1],A=Object(n.useState)(!1),w=Object(r.a)(A,2),M=w[0],P=w[1];return Object(n.useEffect)((function(){x(!0),k.vendor.get((function(e){Me=[];var t=[];e.docs.forEach((function(e){Me.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),x(!1)}),(function(){x(!1)})),P(!0),k.city.get((function(e){var t=[];console.log("total",e.docs.length),e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),b(t),P(!1)}),(function(){P(!1)}))}),[]),{openVendorModal:function(){c(!0)},closeVendorModal:function(e){c(!1),e&&s(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){s(!1)},deleteVendor:function(e){y(!0),k.vendor.delete(m[e].id,(function(){Me.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),y(!1)}),(function(){y(!1)}))},addVendor:function(e){m.push(e),m.sort((function(e,t){return(t.createdAt?t.createdAt:0)-(e.createdAt?e.createdAt:0)})),f(m)},loadMoreVendors:function(){x(!0),k.vendor.get((function(e){var t=[];e.docs.forEach((function(e){Me.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),x(!1)}),(function(){x(!1)}),Me[Me.length-1])},deleting:O,loading:S,rows:m,cities:p,loadingCities:M,addCity:function(e){var t=Date.now(),a={name:e,createdAt:t,updatedAt:t};p.push(a),b(p)}}},ke=function(e,t){var a=Object(n.useState)(""),c=Object(r.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(""),s=Object(r.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(),f=Object(r.a)(m,2),g=f[0],E=f[1],p=Object(n.useState)(!1),b=Object(r.a)(p,2),h=b[0],v=b[1];return{handleClick:function(){if(!h){v(!0);var a=Date.now(),n={name:o,mobile:d,city:{name:(null===g||void 0===g?void 0:g.name)||"Dummy City",id:null===g||void 0===g?void 0:g.id},debt:0,createdAt:a,updatedAt:a};k.vendor.add(n,(function(a){v(!1),n.id=a,e(n),t(!0)}),(function(){v(!1)}))}},onNameChange:function(e){l(e)},onMobileChange:function(e){u(e)},city:g,loading:h,setCity:E}},Fe=function(e){var t=e.open,a=e.close,n=e.onAdd,o=ke(n,a),l=o.handleClick,r=o.onNameChange,s=o.setCity,d=o.onMobileChange,m=o.loading;o.city;return c.a.createElement(L.a,{open:t},c.a.createElement(B.a,null,"Add New Vendor"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Vendor Name",onChange:function(e){r(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Mobile Number",onChange:function(e){d(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(be.a,{id:"city-search",options:e.cities,getOptionLabel:function(e){return e.name},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"City",variant:"outlined"}))},onChange:function(e,t){t&&s(t)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(I,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(I,{onClick:l,loading:m},"Add Vendor"))))))},De=function(e){return c.a.createElement("div",null,e.rows.map((function(t,a){var n;return c.a.createElement("div",{style:{padding:8,borderBottom:"1px solid ".concat(Y.grayscale[4])},key:a},c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,c.a.createElement(ae.a,{fontSize:"small"}))),c.a.createElement(i.a,{item:!0,xs:10,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,t.name),c.a.createElement("div",{style:{paddingTop:4}},c.a.createElement(i.a,{container:!0,alignItems:"baseline",spacing:1},c.a.createElement(i.a,{item:!0},c.a.createElement(ee,null,"Debt:")),c.a.createElement(i.a,{item:!0},c.a.createElement(Z,{color:Y.primary[1].interaction},t.debt))))),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(G.a,{"aria-label":"edit"},c.a.createElement(U.a,{fontSize:"small"})),c.a.createElement(G.a,{"aria-label":"delete",onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(q.a,{fontSize:"small"})))),c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"center",spacing:1},c.a.createElement(i.a,{item:!0},c.a.createElement(Oe.a,{fontSize:"small",style:{color:Y.grayscale[7]}})),c.a.createElement(i.a,{item:!0},c.a.createElement($,{color:Y.grayscale[7]},t.mobile)))),c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(i.a,{container:!0,justify:"center",spacing:1},c.a.createElement(i.a,{item:!0},c.a.createElement(je.a,{fontSize:"small",style:{color:Y.grayscale[7]}})),c.a.createElement(i.a,{item:!0},c.a.createElement($,{color:Y.grayscale[7]},null===(n=t.city)||void 0===n?void 0:n.name))))))})),c.a.createElement(I,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading,fullWidth:!0,variant:"text"},"Load More"))},Le=function(e){var t=Pe(),a=t.openVendorModal,n=t.closeVendorModal,o=t.modalOpen,l=t.showSuccessMessage,r=t.hideSuccessMessage,i=t.deleteVendor,s=t.loadMoreVendors,d=t.addVendor,u=t.deleting,m=t.loading,f=t.rows,g=t.cities,E=(t.loadingCities,t.addCity);return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Vendors",loadedRows:f.length,totalRows:e.numberOfVendors,openModal:a,label:"vendors"}),c.a.createElement(de,null,c.a.createElement(De,{rows:f,onRowDelete:i,deleting:u,onLoadMore:s,allLoaded:f.length===e.numberOfVendors,loading:m}))),c.a.createElement(T,{severity:"success",open:l,onClose:r,message:"Vendor added successfully"}),c.a.createElement(Fe,{open:o,close:n,"aria-labelledby":"vendor_modal",onAdd:d,cities:g,addCity:E}))},Be=[],Ve=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)(!1),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)(!1),v=Object(r.a)(h,2),O=v[0],y=v[1];return Object(n.useEffect)((function(){y(!0),k.account.get((function(e){Be=[];var t=[];e.docs.forEach((function(e){Be.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),y(!1)}),(function(){y(!1)}))}),[]),{openAccountModal:function(){c(!0)},closeAccountModal:function(e){c(!1),e&&s(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){s(!1)},deleteAccount:function(e){b(!0),k.account.delete(m[e].id,(function(){Be.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),b(!1)}),(function(){b(!1)}))},addAccount:function(e){m.push(e),m.sort((function(e,t){return(t.createdAt?t.createdAt:0)-(e.createdAt?e.createdAt:0)})),f(m)},loadMoreAccounts:function(){y(!0),k.account.get((function(e){var t=[];e.docs.forEach((function(e){Be.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),y(!1)}),(function(){y(!1)}),Be[Be.length-1])},deleting:p,loading:O,rows:m}},Ie=function(e,t){var a=Object(n.useState)(""),c=Object(r.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(""),s=Object(r.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(0),f=Object(r.a)(m,2),g=f[0],E=f[1],p=Object(n.useState)(""),b=Object(r.a)(p,2),h=b[0],v=b[1],O=Object(n.useState)(!1),y=Object(r.a)(O,2),j=y[0],C=y[1];return{handleClick:function(){if(!j){C(!0);var a=Date.now(),n={name:o,details:h,type:d,amount:g,createdAt:a,updatedAt:a};k.account.add(n,(function(a){C(!1),n.id=a,e(n),t(!0)}),(function(){C(!1)}))}},onNameChange:function(e){l(e)},onDetailsChange:function(e){v(e)},onTypeChange:function(e){u(e)},onAmountChange:function(e){E(e)},loading:j}},Ne=function(e){var t=e.open,a=e.close,n=e.onAdd,o=Ie(n,a),l=o.handleClick,r=o.onNameChange,s=o.onDetailsChange,d=o.onTypeChange,m=o.onAmountChange,f=o.loading;return c.a.createElement(L.a,{open:t},c.a.createElement(B.a,null,"Add New Account"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Account Name",onChange:function(e){r(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Account Type",onChange:function(e){d(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Account Amount",type:"number",onChange:function(e){m(parseInt(e.target.value))}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Details",multiline:!0,rows:3,onChange:function(e){s(e.target.value)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(I,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(I,{onClick:l,loading:f},"Add Account"))))))},Re=a(195),We=function(e){return c.a.createElement("div",null,e.rows.map((function(t,a){return c.a.createElement("div",{style:{padding:8,borderBottom:"1px solid ".concat(Y.grayscale[4])},key:a},c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:10,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,t.name),c.a.createElement($,null,t.details),c.a.createElement(i.a,{container:!0,alignItems:"center",spacing:1},c.a.createElement(i.a,null,c.a.createElement(Re.a,{label:t.type,size:"small"})),c.a.createElement(i.a,{item:!0},c.a.createElement(Z,{color:Y.primary[0].interaction},t.amount)))),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(G.a,{"aria-label":"edit"},c.a.createElement(U.a,{fontSize:"small"})),c.a.createElement(G.a,{"aria-label":"delete",onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(q.a,{fontSize:"small"})))))})),c.a.createElement(I,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading,fullWidth:!0,variant:"text"},"Load More"))},ze=function(e){var t=Ve(),a=t.openAccountModal,n=t.closeAccountModal,o=t.modalOpen,l=t.showSuccessMessage,r=t.hideSuccessMessage,i=t.deleteAccount,s=t.loadMoreAccounts,d=t.addAccount,u=t.deleting,m=t.loading,f=t.rows;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Accounts",loadedRows:f.length,totalRows:e.numberOfAccounts,openModal:a,label:"accounts"}),c.a.createElement(de,null,c.a.createElement(We,{rows:f,onRowDelete:i,deleting:u,onLoadMore:s,allLoaded:f.length===e.numberOfAccounts,loading:m}))),c.a.createElement(T,{severity:"success",open:l,onClose:r,message:"Account added successfully"}),c.a.createElement(Ne,{open:o,close:n,"aria-labelledby":"account_modal",onAdd:d}))},Te=[],_e=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)([]),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)([]),v=Object(r.a)(h,2),O=v[0],y=v[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),S=C[0],x=C[1],A=Object(n.useState)(!1),w=Object(r.a)(A,2),M=w[0],P=w[1],F=Object(n.useState)(!1),D=Object(r.a)(F,2),L=D[0],B=D[1],V=Object(n.useState)(!1),I=Object(r.a)(V,2),N=I[0],R=I[1];return Object(n.useEffect)((function(){P(!0),k.purchase.get((function(e){Te=[];var t=[];e.docs.forEach((function(e){Te.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),P(!1)}),(function(){P(!1)})),B(!0),k.product.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),b(t),B(!1)}),(function(){B(!1)})),R(!0),k.vendor.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),y(t),R(!1)}),(function(){R(!1)}))}),[]),{openPurchaseModal:function(){c(!0)},closePurchaseModal:function(e){c(!1),e&&s(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){s(!1)},deletePurchase:function(e){x(!0),k.purchase.delete(m[e].id,(function(){Te.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),x(!1)}),(function(){x(!1)}))},addPurchase:function(e){m.push(e),m.sort((function(e,t){return t.createdAt-e.createdAt})),f(m)},loadMorePurchases:function(){P(!0),k.purchase.get((function(e){var t=[];e.docs.forEach((function(e){Te.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),P(!1)}),(function(){P(!1)}),Te[Te.length-1])},deleting:S,loading:M,rows:m,products:p,vendors:O,loadingProducts:L,loadingVendors:N}},qe=function(e,t){var a=Object(n.useState)(),c=Object(r.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(),s=Object(r.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(0),f=Object(r.a)(m,2),g=f[0],E=f[1],p=Object(n.useState)(0),b=Object(r.a)(p,2),h=b[0],v=b[1],O=Object(n.useState)(!1),y=Object(r.a)(O,2),j=y[0],C=y[1];return{handleClick:function(){if(!j){C(!0);var a=Date.now(),n={product:{id:null===o||void 0===o?void 0:o.id,name:null===o||void 0===o?void 0:o.name},vendor:{id:null===d||void 0===d?void 0:d.id,name:null===d||void 0===d?void 0:d.name},quantity:g,rate:h,createdAt:a,updatedAt:a};k.purchase.add(n,(function(a){C(!1),n.id=a,e(n),t(!0)}),(function(){C(!1)}))}},onQuantityChange:function(e){E(e)},onRateChange:function(e){v(e)},setProduct:l,setVendor:u,loading:j}},Qe=function(e){var t=e.open,a=e.close,n=e.onAdd,o=qe(n,a),l=o.handleClick,r=o.onQuantityChange,s=o.onRateChange,d=o.loading,m=o.setProduct,f=o.setVendor;return c.a.createElement(L.a,{open:t},c.a.createElement(B.a,null,"Add New Purchase"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(be.a,{id:"vendor-search",options:e.vendors,getOptionLabel:function(e){return e.name||"Dummy Vendor"},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"Search Vendor",variant:"outlined"}))},onChange:function(e,t){t&&f(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(be.a,{id:"product-search",options:e.products,getOptionLabel:function(e){return e.name||"Dummy Product"},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"Search Product",variant:"outlined"}))},onChange:function(e,t){t&&m(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Quantity",type:"number",onChange:function(e){r(parseInt(e.target.value))}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Rate",type:"number",onChange:function(e){s(parseInt(e.target.value))}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(I,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(I,{onClick:l,loading:d},"Add Purchase"))))))},Ue=Object(b.a)({head:{}}),Ge=function(e){var t=Ue();return c.a.createElement("div",{className:t.head},e.rows.map((function(t,a){return c.a.createElement("div",{style:{padding:8,borderBottom:"1px solid ".concat(Y.grayscale[4])},key:a},c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:1,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,c.a.createElement(ae.a,{fontSize:"small"}))),c.a.createElement(i.a,{item:!0,xs:6,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,t.product.name),c.a.createElement("div",{style:{paddingTop:4}},c.a.createElement($,{color:Y.grayscale[7]},t.vendor.name))),c.a.createElement(i.a,{item:!0,style:{borderLeft:"1px solid ".concat(Y.grayscale[3]),paddingLeft:16,paddingRight:8,paddingTop:16,paddingBottom:16}},c.a.createElement($,{color:Y.grayscale[7]},"Rs."),c.a.createElement($,{color:Y.grayscale[7]},"Qt."),c.a.createElement($,{color:Y.primary[0].base},"Tl.")),c.a.createElement(i.a,{item:!0,xs:2,style:{paddingTop:16,paddingBottom:16}},c.a.createElement($,{color:Y.grayscale[7]},t.rate),c.a.createElement($,{color:Y.grayscale[7]},t.quantity),c.a.createElement($,{color:Y.primary[0].base},(t.quantity||0)*(t.rate||0))),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(G.a,{"aria-label":"edit"},c.a.createElement(U.a,{fontSize:"small"})),c.a.createElement(G.a,{"aria-label":"delete",onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(q.a,{fontSize:"small"})))))})),c.a.createElement(I,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading,fullWidth:!0,variant:"text"},"Load More"))},He=function(e){var t=_e(),a=t.openPurchaseModal,n=t.closePurchaseModal,o=t.modalOpen,l=t.showSuccessMessage,r=t.hideSuccessMessage,i=t.deletePurchase,s=t.loadMorePurchases,d=t.addPurchase,u=t.deleting,m=t.loading,f=t.rows,g=t.products,E=(t.loadingProducts,t.vendors);t.loadingVendors;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Purchases",loadedRows:f.length,totalRows:e.numberOfPurchases,openModal:a,label:"purchases"}),c.a.createElement(de,null,c.a.createElement(Ge,{rows:f,onRowDelete:i,deleting:u,onLoadMore:s,allLoaded:f.length===e.numberOfPurchases,loading:m}))),c.a.createElement(T,{severity:"success",open:l,onClose:r,message:"Purchase added successfully"}),c.a.createElement(Qe,{open:o,close:n,"aria-labelledby":"purchase_modal",onAdd:d,products:g,vendors:E}))},Je=[],Ye=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)([]),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)([]),v=Object(r.a)(h,2),O=v[0],y=v[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),S=C[0],x=C[1],A=Object(n.useState)(!1),w=Object(r.a)(A,2),M=w[0],P=w[1],F=Object(n.useState)(!1),D=Object(r.a)(F,2),L=D[0],B=D[1],V=Object(n.useState)(!1),I=Object(r.a)(V,2),N=I[0],R=I[1];return Object(n.useEffect)((function(){P(!0),k.invoice.get((function(e){Je=[];var t=[];e.docs.forEach((function(e){Je.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),P(!1)}),(function(){P(!1)})),B(!0),k.product.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),b(t),B(!1)}),(function(){B(!1)})),R(!0),k.customer.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),y(t),R(!1)}),(function(){R(!1)}))}),[]),{openInvoiceModal:function(){c(!0)},closeInvoiceModal:function(e){c(!1),e&&s(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){s(!1)},deleteInvoice:function(e){x(!0),k.invoice.delete(m[e].id,(function(){Je.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),x(!1)}),(function(){x(!1)}))},addInvoice:function(e){m.push(e),m.sort((function(e,t){return t.createdAt-e.createdAt})),f(m)},loadMoreInvoices:function(){P(!0),k.invoice.get((function(e){var t=[];e.docs.forEach((function(e){Je.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),P(!1)}),(function(){P(!1)}),Je[Je.length-1])},deleting:S,loading:M,rows:m,products:p,customers:O,loadingProducts:L,loadingCustomers:N}},Ke=function(e,t){var a=Object(n.useState)(),c=Object(r.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)([{}]),s=Object(r.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(!1),f=Object(r.a)(m,2),g=f[0],E=f[1];return{handleClick:function(){if(!g){E(!0);var a=Date.now(),n={sales:d||[],customer:{id:null===o||void 0===o?void 0:o.id,name:null===o||void 0===o?void 0:o.name},createdAt:a,updatedAt:a};k.invoice.add(n,(function(a){E(!1),n.id=a,e(n),t(!0)}),(function(){E(!1)}))}},sales:d,setCustomer:l,loading:g,addSale:function(){var e=d.concat({});u(e)}}},Xe=function(e){var t=e.open,a=e.close,n=e.onAdd,o=Ke(n,a),l=o.handleClick,r=o.loading,s=o.sales,d=o.setCustomer,m=o.addSale;return c.a.createElement(L.a,{open:t},c.a.createElement(B.a,null,"Add New Invoice"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(be.a,{id:"customer-search",options:e.customers,getOptionLabel:function(e){return e.name||"Dummy Customer"},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"Search Customer",variant:"outlined"}))},onChange:function(e,t){t&&d(t)}})),null===s||void 0===s?void 0:s.map((function(t,a){return c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:6},c.a.createElement(be.a,{id:"product-search",options:e.products,getOptionLabel:function(e){return e.name||"Dummy Product"},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"Search Product",variant:"outlined"}))},onChange:function(e,a){t.product=a||{}}})),c.a.createElement(i.a,{item:!0,xs:3},c.a.createElement(u.a,{fullWidth:!0,label:"Quantity",type:"number",onChange:function(e){t.quantity=parseInt(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:3},c.a.createElement(u.a,{fullWidth:!0,label:"Rate",type:"number",onChange:function(e){t.rate=parseInt(e.target.value)}}))))})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(I,{onClick:function(){m()}},"Add Sale")))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(I,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(I,{onClick:l,loading:r},"Add Invoice"))))))},Ze=function(e){return c.a.createElement("div",null,e.rows.map((function(t,a){return c.a.createElement("div",{style:{padding:8,borderBottom:"1px solid ".concat(Y.grayscale[4])},key:a},c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:11,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,t.customer.name),c.a.createElement(Z,{color:Y.primary[0].interaction},function(e){var t=0;return e.forEach((function(e){t+=e.quantity*e.rate})),t}(t.sales)),c.a.createElement(ee,null,t.sales.length," sales")),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(G.a,{"aria-label":"edit"},c.a.createElement(U.a,{fontSize:"small"})),c.a.createElement(G.a,{"aria-label":"delete",onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(q.a,{fontSize:"small"})))))})),c.a.createElement(I,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading,fullWidth:!0,variant:"text"},"Load More"))},$e=function(e){var t=Ye(),a=t.openInvoiceModal,n=t.closeInvoiceModal,o=t.modalOpen,l=t.showSuccessMessage,r=t.hideSuccessMessage,i=t.deleteInvoice,s=t.loadMoreInvoices,d=t.addInvoice,u=t.deleting,m=t.loading,f=t.rows,g=t.products,E=t.customers;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Invoices",loadedRows:f.length,totalRows:e.numberOfInvoices,openModal:a,label:"Invoices"}),c.a.createElement(de,null,c.a.createElement(Ze,{rows:f,onRowDelete:i,deleting:u,onLoadMore:s,allLoaded:f.length===e.numberOfInvoices,loading:m}))),c.a.createElement(T,{severity:"success",open:l,onClose:r,message:"Invoice added successfully"}),c.a.createElement(Xe,{open:o,close:n,"aria-labelledby":"invoice_modal",onAdd:d,products:g,customers:E}))},et=[],tt=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)([]),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)([]),v=Object(r.a)(h,2),O=v[0],y=v[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),S=C[0],x=C[1],A=Object(n.useState)(!1),w=Object(r.a)(A,2),M=w[0],P=w[1],F=Object(n.useState)(!1),D=Object(r.a)(F,2),L=D[0],B=D[1],V=Object(n.useState)(!1),I=Object(r.a)(V,2),N=I[0],R=I[1];return Object(n.useEffect)((function(){P(!0),k.vendorPayment.get((function(e){et=[];var t=[];e.docs.forEach((function(e){et.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),P(!1)}),(function(){P(!1)})),B(!0),k.vendor.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),b(t),B(!1)}),(function(){B(!1)})),R(!0),k.account.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),y(t),R(!1)}),(function(){R(!1)}))}),[]),{openVendorPaymentModal:function(){c(!0)},closeVendorPaymentModal:function(e){c(!1),e&&s(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){s(!1)},deleteVendorPayment:function(e){x(!0),k.vendorPayment.delete(m[e].id,(function(){et.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),x(!1)}),(function(){x(!1)}))},addVendorPayment:function(e){m.push(e),m.sort((function(e,t){return t.createdAt-e.createdAt})),f(m)},loadMoreVendorPayments:function(){P(!0),k.vendorPayment.get((function(e){var t=[];e.docs.forEach((function(e){et.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),P(!1)}),(function(){P(!1)}),et[et.length-1])},deleting:S,loading:M,rows:m,vendors:p,accounts:O,loadingVendors:L,loadingAccounts:N}},at=function(e,t){var a=Object(n.useState)(),c=Object(r.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(),s=Object(r.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(0),f=Object(r.a)(m,2),g=f[0],E=f[1],p=Object(n.useState)(""),b=Object(r.a)(p,2),h=b[0],v=b[1],O=Object(n.useState)(!1),y=Object(r.a)(O,2),j=y[0],C=y[1];return{handleClick:function(){if(!j){C(!0);var a=Date.now(),n={vendor:{id:null===o||void 0===o?void 0:o.id,name:null===o||void 0===o?void 0:o.name},amount:g,account:{id:null===d||void 0===d?void 0:d.id,name:null===d||void 0===d?void 0:d.name},details:h,createdAt:a,updatedAt:a};k.vendorPayment.add(n,(function(a){C(!1),n.id=a,e(n),t(!0)}),(function(){C(!1)}))}},onAmountChange:function(e){E(e)},onDetailsChange:function(e){v(e)},setVendor:l,setAccount:u,loading:j}},nt=function(e){var t=e.open,a=e.close,n=e.onAdd,o=at(n,a),l=o.handleClick,r=o.loading,s=o.onAmountChange,d=o.onDetailsChange,m=o.setVendor,f=o.setAccount;return c.a.createElement(L.a,{open:t},c.a.createElement(B.a,null,"Add New VendorPayment"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(be.a,{id:"vendor-search",options:e.vendors,getOptionLabel:function(e){return e.name||"Dummy Vendor"},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"Search Vendor",variant:"outlined"}))},onChange:function(e,t){t&&m(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(be.a,{id:"account-search",options:e.accounts,getOptionLabel:function(e){return e.name||"Dummy Account"},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"Search Account",variant:"outlined"}))},onChange:function(e,t){t&&f(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Amount",type:"number",onChange:function(e){s(parseInt(e.target.value))}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Details",multiline:!0,rows:3,onChange:function(e){d(e.target.value)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(I,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(I,{onClick:l,loading:r},"Add VendorPayment"))))))},ct=a(74),ot=a.n(ct),lt=function(e){return c.a.createElement("div",null,e.rows.map((function(t,a){return c.a.createElement("div",{style:{padding:8,borderBottom:"1px solid ".concat(Y.grayscale[4])},key:a},c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:10,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,t.vendor.name),c.a.createElement($,null,t.details),c.a.createElement(Z,{color:Y.primary[0].interaction},t.amount),c.a.createElement(i.a,{container:!0,spacing:1,style:{paddingTop:8}},c.a.createElement(i.a,{item:!0},c.a.createElement(ot.a,{fontSize:"small",style:{color:Y.grayscale[6]}})),c.a.createElement(i.a,{item:!0},c.a.createElement(ee,{color:Y.grayscale[7]},t.account.name)))),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(G.a,{"aria-label":"edit"},c.a.createElement(U.a,{fontSize:"small"})),c.a.createElement(G.a,{"aria-label":"delete",onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(q.a,{fontSize:"small"})))))})),c.a.createElement(I,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading,fullWidth:!0,variant:"text"},"Load More"))},rt=function(e){var t=tt(),a=t.openVendorPaymentModal,n=t.closeVendorPaymentModal,o=t.modalOpen,l=t.showSuccessMessage,r=t.hideSuccessMessage,i=t.deleteVendorPayment,s=t.loadMoreVendorPayments,d=t.addVendorPayment,u=t.deleting,m=t.loading,f=t.rows,g=t.vendors,E=t.accounts;t.loadingVendors,t.loadingAccounts;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Vendor Payments",loadedRows:f.length,totalRows:e.numberOfVendorPayments,openModal:a,label:"vendor payments"}),c.a.createElement(de,null,c.a.createElement(lt,{rows:f,onRowDelete:i,deleting:u,onLoadMore:s,allLoaded:f.length===e.numberOfVendorPayments,loading:m}))),c.a.createElement(T,{severity:"success",open:l,onClose:r,message:"VendorPayment added successfully"}),c.a.createElement(nt,{open:o,close:n,"aria-labelledby":"vendorPayment_modal",onAdd:d,vendors:g,accounts:E}))},it=[],st=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)([]),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)([]),v=Object(r.a)(h,2),O=v[0],y=v[1],j=Object(n.useState)(!1),C=Object(r.a)(j,2),S=C[0],x=C[1],A=Object(n.useState)(!1),w=Object(r.a)(A,2),M=w[0],P=w[1],F=Object(n.useState)(!1),D=Object(r.a)(F,2),L=D[0],B=D[1],V=Object(n.useState)(!1),I=Object(r.a)(V,2),N=I[0],R=I[1];return Object(n.useEffect)((function(){P(!0),k.customerPayment.get((function(e){it=[];var t=[];e.docs.forEach((function(e){it.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),P(!1)}),(function(){P(!1)})),B(!0),k.customer.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),b(t),B(!1)}),(function(){B(!1)})),R(!0),k.account.get((function(e){var t=[];e.docs.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),y(t),R(!1)}),(function(){R(!1)}))}),[]),{openCustomerPaymentModal:function(){c(!0)},closeCustomerPaymentModal:function(e){c(!1),e&&s(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){s(!1)},deleteCustomerPayment:function(e){x(!0),k.customerPayment.delete(m[e].id,(function(){it.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),x(!1)}),(function(){x(!1)}))},addCustomerPayment:function(e){m.push(e),m.sort((function(e,t){return t.createdAt-e.createdAt})),f(m)},loadMoreCustomerPayments:function(){P(!0),k.customerPayment.get((function(e){var t=[];e.docs.forEach((function(e){it.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),P(!1)}),(function(){P(!1)}),it[it.length-1])},deleting:S,loading:M,rows:m,customers:p,accounts:O,loadingCustomers:L,loadingAccounts:N}},dt=function(e,t){var a=Object(n.useState)(),c=Object(r.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(),s=Object(r.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(0),f=Object(r.a)(m,2),g=f[0],E=f[1],p=Object(n.useState)(""),b=Object(r.a)(p,2),h=b[0],v=b[1],O=Object(n.useState)(!1),y=Object(r.a)(O,2),j=y[0],C=y[1];return{handleClick:function(){if(!j){C(!0);var a=Date.now(),n={customer:{id:null===o||void 0===o?void 0:o.id,name:null===o||void 0===o?void 0:o.name},amount:g,account:{id:null===d||void 0===d?void 0:d.id,name:null===d||void 0===d?void 0:d.name},details:h,createdAt:a,updatedAt:a};k.customerPayment.add(n,(function(a){C(!1),n.id=a,e(n),t(!0)}),(function(){C(!1)}))}},onAmountChange:function(e){E(e)},onDetailsChange:function(e){v(e)},setCustomer:l,setAccount:u,loading:j}},ut=function(e){var t=e.open,a=e.close,n=e.onAdd,o=dt(n,a),l=o.handleClick,r=o.loading,s=o.onAmountChange,d=o.onDetailsChange,m=o.setCustomer,f=o.setAccount;return c.a.createElement(L.a,{open:t},c.a.createElement(B.a,null,"Add New CustomerPayment"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(be.a,{id:"customer-search",options:e.customers,getOptionLabel:function(e){return e.name||"Dummy Customer"},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"Search Customer",variant:"outlined"}))},onChange:function(e,t){t&&m(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(be.a,{id:"account-search",options:e.accounts,getOptionLabel:function(e){return e.name||"Dummy Account"},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{label:"Search Account",variant:"outlined"}))},onChange:function(e,t){t&&f(t)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Amount",type:"number",onChange:function(e){s(parseInt(e.target.value))}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Details",multiline:!0,rows:3,onChange:function(e){d(e.target.value)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(I,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(I,{onClick:l,loading:r},"Add CustomerPayment"))))))},mt=function(e){return c.a.createElement("div",null,e.rows.map((function(t,a){return c.a.createElement("div",{style:{padding:8,borderBottom:"1px solid ".concat(Y.grayscale[4])},key:a},c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:10,style:{paddingTop:8,paddingBottom:8}},c.a.createElement(X,null,t.customer.name),c.a.createElement($,null,t.details),c.a.createElement(Z,{color:Y.primary[0].interaction},t.amount),c.a.createElement(i.a,{container:!0,spacing:1,style:{paddingTop:8}},c.a.createElement(i.a,{item:!0},c.a.createElement(ot.a,{fontSize:"small",style:{color:Y.grayscale[6]}})),c.a.createElement(i.a,{item:!0},c.a.createElement(ee,{color:Y.grayscale[7]},t.account.name)))),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(G.a,{"aria-label":"edit"},c.a.createElement(U.a,{fontSize:"small"})),c.a.createElement(G.a,{"aria-label":"delete",onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(q.a,{fontSize:"small"})))))})),c.a.createElement(I,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading,fullWidth:!0,variant:"text"},"Load More"))},ft=function(e){var t=st(),a=t.openCustomerPaymentModal,n=t.closeCustomerPaymentModal,o=t.modalOpen,l=t.showSuccessMessage,r=t.hideSuccessMessage,i=t.deleteCustomerPayment,s=t.loadMoreCustomerPayments,d=t.addCustomerPayment,u=t.deleting,m=t.loading,f=t.rows,g=t.customers,E=t.accounts;t.loadingCustomers,t.loadingAccounts;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Customer Payments",loadedRows:f.length,totalRows:e.numberOfCustomerPayments,openModal:a,label:"customer payments"}),c.a.createElement(de,null,c.a.createElement(mt,{rows:f,onRowDelete:i,deleting:u,onLoadMore:s,allLoaded:f.length===e.numberOfCustomerPayments,loading:m}))),c.a.createElement(T,{severity:"success",open:l,onClose:r,message:"CustomerPayment added successfully"}),c.a.createElement(ut,{open:o,close:n,"aria-labelledby":"customerPayment_modal",onAdd:d,customers:g,accounts:E}))},gt=[],Et=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)(!1),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)(!1),v=Object(r.a)(h,2),O=v[0],y=v[1];return Object(n.useEffect)((function(){y(!0),k.employee.get((function(e){gt=[];var t=[];e.docs.forEach((function(e){gt.push(e);var a=e.data();a.id=e.id,t.push(a)})),f(t),y(!1)}),(function(){y(!1)}))}),[]),{openEmployeeModal:function(){c(!0)},closeEmployeeModal:function(e){c(!1),e&&s(!0)},modalOpen:a,showSuccessMessage:i,hideSuccessMessage:function(){s(!1)},deleteEmployee:function(e){b(!0),k.employee.delete(m[e].id,(function(){gt.splice(e,1);var t=m.filter((function(t,a){return a!==e}));f(t),b(!1)}),(function(){b(!1)}))},addEmployee:function(e){m.push(e),m.sort((function(e,t){return(t.createdAt?t.createdAt:0)-(e.createdAt?e.createdAt:0)})),f(m)},loadMoreEmployees:function(){y(!0),k.employee.get((function(e){var t=[];e.docs.forEach((function(e){gt.push(e);var a=e.data();a.id=e.id,t.push(a)})),f((function(e){return e.concat(t)})),y(!1)}),(function(){y(!1)}),gt[gt.length-1])},deleting:p,loading:O,rows:m}},pt=function(e,t){var a=Object(n.useState)(""),c=Object(r.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(0),s=Object(r.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(""),f=Object(r.a)(m,2),g=f[0],E=f[1],p=Object(n.useState)(""),b=Object(r.a)(p,2),h=b[0],v=b[1],O=Object(n.useState)(""),y=Object(r.a)(O,2),j=y[0],C=y[1],S=Object(n.useState)(!1),x=Object(r.a)(S,2),A=x[0],w=x[1];return{handleClick:function(){if(!A){w(!0);var a=Date.now(),n={name:o,salary:d,designation:g,cnic:h,mobile:j,createdAt:a,updatedAt:a};k.employee.add(n,(function(a){w(!1),n.id=a,e(n),t(!0)}),(function(){w(!1)}))}},onNameChange:function(e){l(e)},onSalaryChange:function(e){u(parseInt(e))},onDesignationChange:function(e){E(e)},onCnicChange:function(e){v(e)},onMobileChange:function(e){C(e)},loading:A}},bt=function(e){var t=e.open,a=e.close,n=e.onAdd,o=pt(n,a),l=o.handleClick,r=o.onNameChange,s=o.onCnicChange,d=o.onDesignationChange,m=o.onMobileChange,f=o.onSalaryChange,g=o.loading;return c.a.createElement(L.a,{open:t},c.a.createElement(B.a,null,"Add New Employee"),c.a.createElement(i.a,{container:!0,spacing:2,style:{padding:24}},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Employee Name",onChange:function(e){r(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Salary",onChange:function(e){f(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Designation",onChange:function(e){d(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"CNIC",onChange:function(e){s(e.target.value)}})),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(u.a,{fullWidth:!0,label:"Mobile",onChange:function(e){m(e.target.value)}})))),c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(i.a,{container:!0,spacing:2,justify:"flex-end"},c.a.createElement(i.a,{item:!0},c.a.createElement(I,{variant:"text",onClick:function(){a(!1)}},"Cancel")),c.a.createElement(i.a,{item:!0},c.a.createElement(I,{onClick:l,loading:g},"Add Employee"))))))},ht=a(98),vt=a.n(ht),Ot=a(99),yt=a.n(Ot),jt=a(100),Ct=a.n(jt),St=function(e){return c.a.createElement("div",null,e.rows.map((function(t,a){return c.a.createElement("div",{style:{padding:8,borderBottom:"1px solid ".concat(Y.grayscale[4])},key:a},c.a.createElement(i.a,{container:!0},c.a.createElement(i.a,{item:!0,xs:11},c.a.createElement(i.a,{item:!0,container:!0},c.a.createElement(i.a,{item:!0,xs:12},c.a.createElement(Z,{color:Y.primary[0].interaction},t.name)),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(Oe.a,{fontSize:"small"})),c.a.createElement(i.a,{item:!0,xs:11},t.mobile),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(vt.a,{fontSize:"small"})),c.a.createElement(i.a,{item:!0,xs:11},t.salary),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(yt.a,{fontSize:"small"})),c.a.createElement(i.a,{item:!0,xs:11},t.cnic),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(Ct.a,{fontSize:"small"})),c.a.createElement(i.a,{item:!0,xs:11},t.designation))),c.a.createElement(i.a,{item:!0,xs:1},c.a.createElement(G.a,{"aria-label":"edit"},c.a.createElement(U.a,{fontSize:"small"})),c.a.createElement(G.a,{"aria-label":"delete",onClick:function(){e.onRowDelete(a)},disabled:e.deleting},c.a.createElement(q.a,{fontSize:"small"})))))})),c.a.createElement(I,{onClick:e.onLoadMore,disabled:e.allLoaded,loading:e.loading,fullWidth:!0,variant:"text"},"Load More"))},xt=function(e){var t=Et(),a=t.openEmployeeModal,n=t.closeEmployeeModal,o=t.modalOpen,l=t.showSuccessMessage,r=t.hideSuccessMessage,i=t.deleteEmployee,s=t.loadMoreEmployees,d=t.addEmployee,u=t.deleting,m=t.loading,f=t.rows;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,null,c.a.createElement(ue,{placeholder:"Search Employees",loadedRows:f.length,totalRows:e.numberOfEmployees,openModal:a,label:"employees"}),c.a.createElement(de,null,c.a.createElement(St,{rows:f,onRowDelete:i,deleting:u,onLoadMore:s,allLoaded:f.length===e.numberOfEmployees,loading:m}))),c.a.createElement(T,{severity:"success",open:l,onClose:r,message:"Employee added successfully"}),c.a.createElement(bt,{open:o,close:n,"aria-labelledby":"employee_modal",onAdd:d}))},At=function(e){var t=[{path:"/",component:c.a.createElement(fe,{numberOfProducts:e.products})},{path:"/products",component:c.a.createElement(fe,{numberOfProducts:e.products})},{path:"/purchases",component:c.a.createElement(He,{numberOfPurchases:e.purchases})},{path:"/payments/vendors",component:c.a.createElement(rt,{numberOfVendorPayments:e.vendorPayments})},{path:"/payments/customers",component:c.a.createElement(ft,{numberOfCustomerPayments:e.customerPayments})},{path:"/invoices",component:c.a.createElement($e,{numberOfInvoices:e.invoices})},{path:"/customers",component:c.a.createElement(Se,{numberOfCustomers:e.customers})},{path:"/vendors",component:c.a.createElement(Le,{numberOfVendors:e.vendors})},{path:"/accounts",component:c.a.createElement(ze,{numberOfAccounts:e.accounts})},{path:"/cities",component:c.a.createElement(we,{numberOfCities:e.cities})},{path:"/employees",component:c.a.createElement(xt,{numberOfEmployees:e.employees})},{path:"*",component:c.a.createElement(d.a,{variant:"h3"},"Some Page")}];return c.a.createElement(y.c,null,t.map((function(e,t){return c.a.createElement(y.a,{exact:!0,path:e.path,key:t},e.component)})))},wt=function(){var e=Object(n.useState)(0),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(n.useState)(0),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)(0),E=Object(r.a)(g,2),p=E[0],b=E[1],h=Object(n.useState)(0),v=Object(r.a)(h,2),O=v[0],y=v[1],j=Object(n.useState)(0),C=Object(r.a)(j,2),S=C[0],x=C[1],A=Object(n.useState)(0),w=Object(r.a)(A,2),M=w[0],P=w[1],F=Object(n.useState)(0),D=Object(r.a)(F,2),L=D[0],B=D[1],V=Object(n.useState)(0),I=Object(r.a)(V,2),N=I[0],R=I[1],W=Object(n.useState)(0),z=Object(r.a)(W,2),T=z[0],_=z[1],q=Object(n.useState)(!1),Q=Object(r.a)(q,2),U=Q[0],G=Q[1];Object(n.useEffect)((function(){k.counts.get((function(e){c(e.docs[0].data().products?e.docs[0].data().products:0),s(e.docs[0].data().cities?e.docs[0].data().cities:0),f(e.docs[0].data().customers?e.docs[0].data().customers:0),b(e.docs[0].data().vendors?e.docs[0].data().vendors:0),y(e.docs[0].data().accounts?e.docs[0].data().accounts:0),x(e.docs[0].data().purchases?e.docs[0].data().purchases:0),B(e.docs[0].data().vendorPayments?e.docs[0].data().vendorPayments:0),R(e.docs[0].data().customerPayments?e.docs[0].data().customerPayments:0),P(e.docs[0].data().invoices?e.docs[0].data().invoices:0),_(e.docs[0].data().employees?e.docs[0].data().employees:0)}))}),[]);return{numberOfProducts:a,numberOfCities:i,numberOfCustomers:m,numberOfVendors:p,numberOfAccounts:O,numberOfPurchases:S,numberOfInvoices:M,numberOfVendorPayments:L,numberOfCustomerPayments:N,numberOfEmployees:T,toggleDrawer:function(){console.log("hello world"),G((function(e){return!e}))},showNav:U}},Mt=a(187),Pt=a(188),kt=a(101),Ft=a.n(kt),Dt=function(){return c.a.createElement(m.a,{variant:"outlined",color:"inherit",onClick:function(){g.a.auth().signOut().then((function(){console.log("succesfully signed out")})).catch((function(e){console.log("error",e)}))}},"Logout")},Lt=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Bt=Object(y.g)((function(e){var t=e.history,a=Object(h.a)(e,["history"]),n=Lt();return c.a.createElement("div",{className:n.root},c.a.createElement(Mt.a,{position:"static"},c.a.createElement(Pt.a,null,c.a.createElement(G.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu",onClick:function(){console.log("clicking"),a.toggleNavigation()}},c.a.createElement(Ft.a,null)),c.a.createElement(d.a,{variant:"body1",className:n.title},function(){var e=t.location.pathname.substring(1);return(e=e.toUpperCase().replace("/"," ")).length>0?e:"PRODUCTS"}()),c.a.createElement(Dt,null))))})),Vt=Object(b.a)({welcome:{backgroundColor:Y.grayscale[0]}}),It=function(){var e=Vt(),t=wt(),a=t.numberOfProducts,n=t.numberOfCities,o=t.numberOfCustomers,l=t.numberOfVendors,r=t.numberOfAccounts,s=t.numberOfPurchases,d=t.numberOfInvoices,u=t.numberOfVendorPayments,m=t.numberOfCustomerPayments,f=t.numberOfEmployees,g=t.toggleDrawer,E=t.showNav;return c.a.createElement(c.a.Fragment,null,c.a.createElement(P.a,{basename:"/bilalshop"},c.a.createElement(Bt,{toggleNavigation:g}),c.a.createElement(i.a,{container:!0,className:e.welcome},c.a.createElement(i.a,{item:!0,lg:2,md:3},c.a.createElement(M,{products:a,cities:n,customers:o,vendors:l,accounts:r,purchases:s,invoices:d,vendorPayments:u,customerPayments:m,employees:f,showNav:E,toggleNavigation:g})),c.a.createElement(i.a,{item:!0,lg:10,md:9,sm:12,xs:12},c.a.createElement(At,{products:a,cities:n,customers:o,vendors:l,accounts:r,purchases:s,invoices:d,vendorPayments:u,customerPayments:m,employees:f})))))},Nt=function(){var e=Object(n.useState)(!0),t=Object(r.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),i=Object(r.a)(l,2),s=i[0],d=i[1];return Object(n.useEffect)((function(){g.a.auth().onAuthStateChanged((function(e){d(!!e),o(!1)}))}),[]),a?c.a.createElement(p.a,null):s?c.a.createElement(It,null):c.a.createElement(E,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Rt=a(189);g.a.initializeApp({apiKey:"AIzaSyAN6y59cHMfZiXomgcBbIVh5p1m0yLQshI",projectId:"bilalshop-b7685"}),l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Rt.a,{theme:K},c.a.createElement(Nt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[114,1,2]]]);
//# sourceMappingURL=main.8d0167af.chunk.js.map